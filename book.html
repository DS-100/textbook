---
layout: single_page
---

{% raw %}
<h1>Principles and Techniques of Data Science</h1>

<p><strong>By <a href="http://www.samlau.me/">Sam Lau</a>, <a href="https://www.stat.berkeley.edu/~nolan/">Deb Nolan</a>, and <a href="https://people.eecs.berkeley.edu/~jegonzal/">Joey Gonzalez</a>.</strong></p>

<p>This is the textbook for
<a href="http://www.ds100.org/">Data 100, the Principles and Techniques of Data Science course at UC Berkeley</a>.</p>

<p>Data 100 is the upper-division, semester-long data science course that follows
<a href="http://data8.org/">Data 8, the Foundations of Data Science</a>. The reader's assumed
background is detailed in the <a href="/about_this_book">About This Book</a> page.</p>

<p>The contents of this book are licensed for free consumption under the following license:
<a href="https://creativecommons.org/licenses/by-nc-nd/4.0/">Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)</a></p>

<p>To set up the textbook for local development, see the <a href="https://github.com/DS-100/textbook/blob/master/SETUP.md">the setup guide</a>.</p>
<h2>About This Book</h2>

<p>In this book, we will proceed as though the reader is comfortable with the
knowledge presented in <a href="http://data8.org/">Data 8</a> or some equivalent. In particular, we
will assume that the reader is familiar with the following topics (links to
pages from the Data 8 textbook are given in parentheses).</p>

<ul>
<li>Tabular data manipulation: selection, filtering, grouping, joining <a href="https://www.inferentialthinking.com/chapters/08/2/classifying-by-one-variable.html">(link)</a></li>
<li>Basic probability concepts <a href="https://www.inferentialthinking.com/chapters/09/5/finding-probabilities.html">(link)</a></li>
<li>Sampling, empirical distributions of statistics <a href="https://www.inferentialthinking.com/chapters/10/3/empirical-distribution-of-a-statistic.html">(link)</a></li>
<li>Hypothesis testing using bootstrap resampling <a href="https://www.inferentialthinking.com/chapters/13/4/using-confidence-intervals.html">(link)</a></li>
<li>Least squares regression and regression inference <a href="https://www.inferentialthinking.com/chapters/16/2/inference-for-the-true-slope.html">(link)</a></li>
<li>Classification <a href="https://www.inferentialthinking.com/chapters/17/1/nearest-neighbors.html">(link)</a></li>
</ul>

<p>In addition, we assume that the reader has taken a course in computer
programming in Python, such as <a href="https://cs61a.org/">CS61A</a> or some equivalent. We will not
explain Python syntax except in special cases.</p>

<p>Finally, we assume that the reader has basic familiarity with partial
derivatives, gradients, vector algebra, and matrix algebra.</p>

<h3>Notation</h3>

<p>This book covers topics from multiple disciplines. Unfortunately, some of these
disciplines use the same notation to describe different concepts. In order to
prevent headaches, we have devised notation that may differ slightly
from the notation used in your discipline.</p>

<p>A population parameter is denoted by <span class="mjpage"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.145ex" height="2.176ex" style="vertical-align: -0.338ex;" viewBox="0 -791.3 923.4 936.9" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" aria-labelledby="MathJax-SVG-1-Title">
<title id="MathJax-SVG-1-Title"> \theta^* </title>
<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)" aria-hidden="true">
 <use xlink:href="#MJMATHI-3B8" x="0" y="0"></use>
 <use transform="scale(0.707)" xlink:href="#MJMAIN-2217" x="663" y="513"></use>
</g>
</svg></span>. The model parameter that
minimizes a specified loss function is denoted by <span class="mjpage"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.356ex" height="2.843ex" style="vertical-align: -0.338ex;" viewBox="0 -1078.4 583.8 1223.9" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" aria-labelledby="MathJax-SVG-2-Title">
<title id="MathJax-SVG-2-Title"> \hat{\theta} </title>
<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)" aria-hidden="true">
 <use xlink:href="#MJMATHI-3B8" x="15" y="0"></use>
 <use xlink:href="#MJMAIN-5E" x="83" y="283"></use>
</g>
</svg></span>. Typically,
we desire <span class="mjpage"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.599ex" height="2.843ex" style="vertical-align: -0.338ex;" viewBox="0 -1078.4 2841.3 1223.9" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" aria-labelledby="MathJax-SVG-3-Title">
<title id="MathJax-SVG-3-Title"> \hat{\theta} \approx \theta^* </title>
<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)" aria-hidden="true">
 <use xlink:href="#MJMATHI-3B8" x="15" y="0"></use>
 <use xlink:href="#MJMAIN-5E" x="83" y="283"></use>
 <use xlink:href="#MJMAIN-2248" x="861" y="0"></use>
<g transform="translate(1917,0)">
 <use xlink:href="#MJMATHI-3B8" x="0" y="0"></use>
 <use transform="scale(0.707)" xlink:href="#MJMAIN-2217" x="663" y="513"></use>
</g>
</g>
</svg></span>. We use the plain variable
<span class="mjpage"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.09ex" height="2.176ex" style="vertical-align: -0.338ex;" viewBox="0 -791.3 469.5 936.9" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" aria-labelledby="MathJax-SVG-4-Title">
<title id="MathJax-SVG-4-Title"> \theta </title>
<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)" aria-hidden="true">
 <use xlink:href="#MJMATHI-3B8" x="0" y="0"></use>
</g>
</svg></span> to denote a model parameter that does not minimize a particular loss
function. For example, we may arbitrarily set <span class="mjpage"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.514ex" height="2.176ex" style="vertical-align: -0.338ex;" viewBox="0 -791.3 2804.6 936.9" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" aria-labelledby="MathJax-SVG-5-Title">
<title id="MathJax-SVG-5-Title"> \theta = 16</title>
<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)" aria-hidden="true">
 <use xlink:href="#MJMATHI-3B8" x="0" y="0"></use>
 <use xlink:href="#MJMAIN-3D" x="747" y="0"></use>
<g transform="translate(1803,0)">
 <use xlink:href="#MJMAIN-31"></use>
 <use xlink:href="#MJMAIN-36" x="500" y="0"></use>
</g>
</g>
</svg></span> in order to
calculate a model's loss at that choice of <span class="mjpage"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.09ex" height="2.176ex" style="vertical-align: -0.338ex;" viewBox="0 -791.3 469.5 936.9" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" aria-labelledby="MathJax-SVG-6-Title">
<title id="MathJax-SVG-6-Title"> \theta </title>
<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)" aria-hidden="true">
 <use xlink:href="#MJMATHI-3B8" x="0" y="0"></use>
</g>
</svg></span>. When using gradient
descent to minimize a loss function, we use <span class="mjpage"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.196ex" height="2.676ex" style="vertical-align: -0.338ex;" viewBox="0 -1006.6 1376 1152.1" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" aria-labelledby="MathJax-SVG-7-Title">
<title id="MathJax-SVG-7-Title"> \theta^{(t)} </title>
<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)" aria-hidden="true">
 <use xlink:href="#MJMATHI-3B8" x="0" y="0"></use>
<g transform="translate(469,362)">
 <use transform="scale(0.707)" xlink:href="#MJMAIN-28" x="0" y="0"></use>
 <use transform="scale(0.707)" xlink:href="#MJMATHI-74" x="389" y="0"></use>
 <use transform="scale(0.707)" xlink:href="#MJMAIN-29" x="751" y="0"></use>
</g>
</g>
</svg></span> to represent the
intermediate values of <span class="mjpage"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.09ex" height="2.176ex" style="vertical-align: -0.338ex;" viewBox="0 -791.3 469.5 936.9" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" aria-labelledby="MathJax-SVG-8-Title">
<title id="MathJax-SVG-8-Title"> \theta </title>
<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)" aria-hidden="true">
 <use xlink:href="#MJMATHI-3B8" x="0" y="0"></use>
</g>
</svg></span>.</p>

<p>We will always use bold lowercase letters for vectors. For example, we
represent a vector of population parameters using
$ \boldsymbol{\theta^*} = [ \theta^*<em>1, \theta^*</em>2, \ldots, \theta^*<em>n ] <span class="mjpage"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="40.115ex" height="2.509ex" style="vertical-align: -0.671ex;" viewBox="0 -791.3 17271.5 1080.4" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" aria-labelledby="MathJax-SVG-9-Title">
<title id="MathJax-SVG-9-Title">
and a vector of fitted model parameters as
</title>
<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)" aria-hidden="true">
 <use xlink:href="#MJMATHI-61" x="0" y="0"></use>
 <use xlink:href="#MJMATHI-6E" x="529" y="0"></use>
 <use xlink:href="#MJMATHI-64" x="1130" y="0"></use>
 <use xlink:href="#MJMATHI-61" x="1653" y="0"></use>
 <use xlink:href="#MJMATHI-76" x="2183" y="0"></use>
 <use xlink:href="#MJMATHI-65" x="2668" y="0"></use>
 <use xlink:href="#MJMATHI-63" x="3135" y="0"></use>
 <use xlink:href="#MJMATHI-74" x="3568" y="0"></use>
 <use xlink:href="#MJMATHI-6F" x="3930" y="0"></use>
 <use xlink:href="#MJMATHI-72" x="4415" y="0"></use>
 <use xlink:href="#MJMATHI-6F" x="4867" y="0"></use>
 <use xlink:href="#MJMATHI-66" x="5352" y="0"></use>
 <use xlink:href="#MJMATHI-66" x="5903" y="0"></use>
 <use xlink:href="#MJMATHI-69" x="6453" y="0"></use>
 <use xlink:href="#MJMATHI-74" x="6799" y="0"></use>
 <use xlink:href="#MJMATHI-74" x="7160" y="0"></use>
 <use xlink:href="#MJMATHI-65" x="7522" y="0"></use>
 <use xlink:href="#MJMATHI-64" x="7988" y="0"></use>
 <use xlink:href="#MJMATHI-6D" x="8512" y="0"></use>
 <use xlink:href="#MJMATHI-6F" x="9390" y="0"></use>
 <use xlink:href="#MJMATHI-64" x="9876" y="0"></use>
 <use xlink:href="#MJMATHI-65" x="10399" y="0"></use>
 <use xlink:href="#MJMATHI-6C" x="10866" y="0"></use>
 <use xlink:href="#MJMATHI-70" x="11164" y="0"></use>
 <use xlink:href="#MJMATHI-61" x="11668" y="0"></use>
 <use xlink:href="#MJMATHI-72" x="12197" y="0"></use>
 <use xlink:href="#MJMATHI-61" x="12649" y="0"></use>
 <use xlink:href="#MJMATHI-6D" x="13178" y="0"></use>
 <use xlink:href="#MJMATHI-65" x="14057" y="0"></use>
 <use xlink:href="#MJMATHI-74" x="14523" y="0"></use>
 <use xlink:href="#MJMATHI-65" x="14885" y="0"></use>
 <use xlink:href="#MJMATHI-72" x="15351" y="0"></use>
 <use xlink:href="#MJMATHI-73" x="15803" y="0"></use>
 <use xlink:href="#MJMATHI-61" x="16272" y="0"></use>
 <use xlink:href="#MJMATHI-73" x="16802" y="0"></use>
</g>
</svg></span> \boldsymbol{\hat{\theta}} = [\hat{\theta</em>1}, \hat{\theta<em>2}, \ldots, \hat{\theta</em>n} ] $.</p>

<p>We will always use bold uppercase letters for matrices. For example, we
commonly represent a data matrix using <span class="mjpage"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.215ex" height="2.176ex" style="vertical-align: -0.338ex;" viewBox="0 -791.3 953.5 936.9" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" aria-labelledby="MathJax-SVG-10-Title">
<title id="MathJax-SVG-10-Title"> \boldsymbol X </title>
<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)" aria-hidden="true">
 <use xlink:href="#MJMATHBI-58" x="0" y="0"></use>
</g>
</svg></span>.</p>

<p>We will always use non-bolded uppercase letters for random variables, such as
<span class="mjpage"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.98ex" height="2.176ex" style="vertical-align: -0.338ex;" viewBox="0 -791.3 852.5 936.9" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" aria-labelledby="MathJax-SVG-11-Title">
<title id="MathJax-SVG-11-Title"> X </title>
<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)" aria-hidden="true">
 <use xlink:href="#MJMATHI-58" x="0" y="0"></use>
</g>
</svg></span> or <span class="mjpage"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.773ex" height="2.009ex" style="vertical-align: -0.171ex;" viewBox="0 -791.3 763.5 865.1" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" aria-labelledby="MathJax-SVG-12-Title">
<title id="MathJax-SVG-12-Title"> Y </title>
<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)" aria-hidden="true">
 <use xlink:href="#MJMATHI-59" x="0" y="0"></use>
</g>
</svg></span>.</p>

<p>When discussing the bootstrap, we use <span class="mjpage"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.145ex" height="2.176ex" style="vertical-align: -0.338ex;" viewBox="0 -791.3 923.4 936.9" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" aria-labelledby="MathJax-SVG-13-Title">
<title id="MathJax-SVG-13-Title"> \theta^* </title>
<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)" aria-hidden="true">
 <use xlink:href="#MJMATHI-3B8" x="0" y="0"></use>
 <use transform="scale(0.707)" xlink:href="#MJMAIN-2217" x="663" y="513"></use>
</g>
</svg></span> to denote the population
parameter, <span class="mjpage"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.356ex" height="2.843ex" style="vertical-align: -0.338ex;" viewBox="0 -1078.4 583.8 1223.9" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" aria-labelledby="MathJax-SVG-14-Title">
<title id="MathJax-SVG-14-Title"> \hat{\theta} </title>
<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)" aria-hidden="true">
 <use xlink:href="#MJMATHI-3B8" x="15" y="0"></use>
 <use xlink:href="#MJMAIN-5E" x="83" y="283"></use>
</g>
</svg></span> to denote the sample test statistic, and
<span class="mjpage"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.356ex" height="2.676ex" style="vertical-align: -0.338ex;" viewBox="0 -1006.6 583.8 1152.1" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" aria-labelledby="MathJax-SVG-15-Title">
<title id="MathJax-SVG-15-Title"> \tilde{\theta} </title>
<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)" aria-hidden="true">
 <use xlink:href="#MJMATHI-3B8" x="15" y="0"></use>
 <use xlink:href="#MJMAIN-7E" x="83" y="599"></use>
</g>
</svg></span> to denote a bootstrapped test statistic.</p>
<div id="ipython-notebook">

<div class="nbinteract-hide_in cell border-box-sizing code_cell rendered">
<div class="input">
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># HIDDEN</span>
<span class="c1"># Clear previously defined variables</span>
<span class="o">%</span><span class="k">reset</span> -f

<span class="c1"># Set directory for data loading to work properly</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">'~/notebooks/01'</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="The-Data-Science-Lifecycle">The Data Science Lifecycle<a class="anchor-link" href="#The-Data-Science-Lifecycle">¶</a></h1><p>In data science, we use large and diverse data sets to make conclusions about
the world. In this book we discuss principles and techniques of
data science through the dual lens of computational and inferential thinking.
Practically speaking, this involves the following process:</p>
<ol>
<li>Formulating a question or problem</li>
<li>Acquiring and cleaning data</li>
<li>Conducting exploratory data analysis</li>
<li>Using prediction and inference to draw conclusions</li>
</ol>
<p>It is quite common for more questions and problems to emerge after the last
step of this process, and we can thus repeatedly engage in this procedure to
discover new characteristics of our world. This positive feedback loop is so
central to our work that we call it the <strong>data science lifecycle</strong>.</p>
<p>If the data science lifecycle were as easy to conduct as it is to state, there
would be no need for textbooks about the the subject. Fortunately, each of the
steps in the lifecycle contain numerous challenges that reveal powerful and
often surprising insights that form the foundation of making thoughtful
decisions using data.</p>
<p>As in Data 8, we will begin with an example.</p>
</div>
</div>
</div>
</div><div id="ipython-notebook">

<div class="nbinteract-hide_in cell border-box-sizing code_cell rendered">
<div class="input">
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># HIDDEN</span>
<span class="c1"># Clear previously defined variables</span>
<span class="o">%</span><span class="k">reset</span> -f

<span class="c1"># Set directory for data loading to work properly</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">'~/notebooks/01'</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="nbinteract-hide_in cell border-box-sizing code_cell rendered">
<div class="input">
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># HIDDEN</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="c1"># Ignore numpy dtype warnings. These warnings are caused by an interaction</span>
<span class="c1"># between numpy and Cython and can be safely ignored.</span>
<span class="c1"># Reference: https://stackoverflow.com/a/40846742</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"ignore"</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">"numpy.dtype size changed"</span><span class="p">)</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"ignore"</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">"numpy.ufunc size changed"</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">ipywidgets</span> <span class="k">as</span> <span class="nn">widgets</span>
<span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="k">import</span> <span class="n">interact</span><span class="p">,</span> <span class="n">interactive</span><span class="p">,</span> <span class="n">fixed</span><span class="p">,</span> <span class="n">interact_manual</span>
<span class="kn">import</span> <span class="nn">nbinteract</span> <span class="k">as</span> <span class="nn">nbi</span>

<span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">()</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_context</span><span class="p">(</span><span class="s1">'talk'</span><span class="p">)</span>
<span class="n">np</span><span class="o">.</span><span class="n">set_printoptions</span><span class="p">(</span><span class="n">threshold</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">suppress</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_rows</span> <span class="o">=</span> <span class="mi">7</span>
<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_columns</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">'precision'</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="c1"># This option stops scientific notation for pandas</span>
<span class="c1"># pd.set_option('display.float_format', '{:.2f}'.format)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="The-Students-of-Data-100">The Students of Data 100<a class="anchor-link" href="#The-Students-of-Data-100">¶</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The data science lifecycle involves the following general steps:</p>
<ol>
<li><strong>Question/Problem Formulation:</strong> <ol>
<li>What do we want to know or what problems are we trying to solve?  </li>
<li>What are our hypotheses? </li>
<li>What are our metrics of success? <br><br></li>
</ol>
</li>
<li><strong>Data Acquisition and Cleaning:</strong> <ol>
<li>What data do we have and what data do we need?  </li>
<li>How will we collect more data? </li>
<li>How do we organize the data for analysis?  <br><br></li>
</ol>
</li>
<li><strong>Exploratory Data Analysis:</strong> <ol>
<li>Do we already have relevant data?  </li>
<li>What are the biases, anomalies, or other issues with the data?  </li>
<li>How do we transform the data to enable effective analysis? <br><br></li>
</ol>
</li>
<li><strong>Prediction and Inference:</strong> <ol>
<li>What does the data say about the world?  </li>
<li>Does it answer our questions or accurately solve the problem?  </li>
<li>How robust are our conclusions? <br><br></li>
</ol>
</li>
</ol>
<p>We now demonstrate this process applied to a dataset of student first names from a previous offering of Data 100. In this chapter, we proceed quickly in order to give the reader a general sense of a complete iteration through the lifecycle. In later chapters, we expand on each step in this process to develop a repertoire of skills and principles.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Question-Formulation">Question Formulation<a class="anchor-link" href="#Question-Formulation">¶</a></h3><p>We would like to figure out if the student first names give
us additional information about the students themselves. Although this is a
vague question to ask, it is enough to get us working with our data and we can
make the question more precise as we go.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Data-Acquisition-and-Cleaning">Data Acquisition and Cleaning<a class="anchor-link" href="#Data-Acquisition-and-Cleaning">¶</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's begin by looking at our data, the roster of student first names that we've downloaded from a previous offering of Data 100.</p>
<p>Don't worry if you don't understand the code for now; we introduce the libraries in more depth soon. Instead, focus on the process and the charts that we create.</p>
</div>
</div>
</div>
<div class=" cell border-box-sizing code_cell rendered">
<div class="input">
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">students</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'roster.csv'</span><span class="p">)</span>
<span class="n">students</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Name</th>
<th>Role</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>Keeley</td>
<td>Student</td>
</tr>
<tr>
<th>1</th>
<td>John</td>
<td>Student</td>
</tr>
<tr>
<th>2</th>
<td>BRYAN</td>
<td>Student</td>
</tr>
<tr>
<th>...</th>
<td>...</td>
<td>...</td>
</tr>
<tr>
<th>276</th>
<td>Ernesto</td>
<td>Waitlist Student</td>
</tr>
<tr>
<th>277</th>
<td>Athan</td>
<td>Waitlist Student</td>
</tr>
<tr>
<th>278</th>
<td>Michael</td>
<td>Waitlist Student</td>
</tr>
</tbody>
</table>
<p>279 rows × 2 columns</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can quickly see that there are some quirks in the data. For example, one of the student's names is all uppercase letters. In addition, it is not obvious what the Role column is for.</p>
<p><strong>In Data 100, we will study how to identify anomalies in data and apply corrections.</strong> The differences in capitalization will cause our programs to think that <code>'BRYAN'</code> and <code>'Bryan'</code> are different names when they are identical for our purposes. Let's convert all names to lower case to avoid this.</p>
</div>
</div>
</div>
<div class=" cell border-box-sizing code_cell rendered">
<div class="input">
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">students</span><span class="p">[</span><span class="s1">'Name'</span><span class="p">]</span> <span class="o">=</span> <span class="n">students</span><span class="p">[</span><span class="s1">'Name'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="n">students</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Name</th>
<th>Role</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>keeley</td>
<td>Student</td>
</tr>
<tr>
<th>1</th>
<td>john</td>
<td>Student</td>
</tr>
<tr>
<th>2</th>
<td>bryan</td>
<td>Student</td>
</tr>
<tr>
<th>...</th>
<td>...</td>
<td>...</td>
</tr>
<tr>
<th>276</th>
<td>ernesto</td>
<td>Waitlist Student</td>
</tr>
<tr>
<th>277</th>
<td>athan</td>
<td>Waitlist Student</td>
</tr>
<tr>
<th>278</th>
<td>michael</td>
<td>Waitlist Student</td>
</tr>
</tbody>
</table>
<p>279 rows × 2 columns</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now that our data are in a more useful format, we proceed to exploratory data analysis.</p>
</div>
</div>
</div>
</div><div id="ipython-notebook">

<div class="nbinteract-hide_in cell border-box-sizing code_cell rendered">
<div class="input">
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># HIDDEN</span>
<span class="c1"># Clear previously defined variables</span>
<span class="o">%</span><span class="k">reset</span> -f

<span class="c1"># Set directory for data loading to work properly</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">'~/notebooks/01'</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="nbinteract-hide_in cell border-box-sizing code_cell rendered">
<div class="input">
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># HIDDEN</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="c1"># Ignore numpy dtype warnings. These warnings are caused by an interaction</span>
<span class="c1"># between numpy and Cython and can be safely ignored.</span>
<span class="c1"># Reference: https://stackoverflow.com/a/40846742</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"ignore"</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">"numpy.dtype size changed"</span><span class="p">)</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">"ignore"</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">"numpy.ufunc size changed"</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">ipywidgets</span> <span class="k">as</span> <span class="nn">widgets</span>
<span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="k">import</span> <span class="n">interact</span><span class="p">,</span> <span class="n">interactive</span><span class="p">,</span> <span class="n">fixed</span><span class="p">,</span> <span class="n">interact_manual</span>
<span class="kn">import</span> <span class="nn">nbinteract</span> <span class="k">as</span> <span class="nn">nbi</span>

<span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">()</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_context</span><span class="p">(</span><span class="s1">'talk'</span><span class="p">)</span>
<span class="n">np</span><span class="o">.</span><span class="n">set_printoptions</span><span class="p">(</span><span class="n">threshold</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">suppress</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_rows</span> <span class="o">=</span> <span class="mi">7</span>
<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_columns</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">'precision'</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="c1"># This option stops scientific notation for pandas</span>
<span class="c1"># pd.set_option('display.float_format', '{:.2f}'.format)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="nbinteract-hide_in cell border-box-sizing code_cell rendered">
<div class="input">
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># HIDDEN</span>
<span class="n">students</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'roster.csv'</span><span class="p">)</span>
<span class="n">students</span><span class="p">[</span><span class="s1">'Name'</span><span class="p">]</span> <span class="o">=</span> <span class="n">students</span><span class="p">[</span><span class="s1">'Name'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Exploratory-Data-Analysis">Exploratory Data Analysis<a class="anchor-link" href="#Exploratory-Data-Analysis">¶</a></h2><p>The term Exploratory Data Analysis (EDA for short) refers to the process of discovering traits about our data that inform future analysis.</p>
<p>Here's the <code>students</code> table from the previous page:</p>
</div>
</div>
</div>
<div class=" cell border-box-sizing code_cell rendered">
<div class="input">
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">students</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Name</th>
<th>Role</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>keeley</td>
<td>Student</td>
</tr>
<tr>
<th>1</th>
<td>john</td>
<td>Student</td>
</tr>
<tr>
<th>2</th>
<td>bryan</td>
<td>Student</td>
</tr>
<tr>
<th>...</th>
<td>...</td>
<td>...</td>
</tr>
<tr>
<th>276</th>
<td>ernesto</td>
<td>Waitlist Student</td>
</tr>
<tr>
<th>277</th>
<td>athan</td>
<td>Waitlist Student</td>
</tr>
<tr>
<th>278</th>
<td>michael</td>
<td>Waitlist Student</td>
</tr>
</tbody>
</table>
<p>279 rows × 2 columns</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We are left with a number of questions. How many students are in this roster? What does the <code>Role</code> column mean? We conduct EDA in order to understand our data more thoroughly.</p>
<p>Oftentimes, we explore the data by repeatedly posing questions as we uncover more information.</p>
<p><strong>How many students are in our dataset?</strong></p>
</div>
</div>
</div>
<div class=" cell border-box-sizing code_cell rendered">
<div class="input">
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">"There are"</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">students</span><span class="p">),</span> <span class="s2">"students on the roster."</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_subarea output_stream output_stdout output_text">
<pre>There are 279 students on the roster.
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A natural follow-up question: does this dataset contain the complete list of students? In this case, this table contains all students in one semester's offering of Data 100.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>What is the meaning of the <code>Role</code> field?</strong></p>
<p>We often example the field's data in order to understand the field itself.</p>
</div>
</div>
</div>
<div class=" cell border-box-sizing code_cell rendered">
<div class="input">
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">students</span><span class="p">[</span><span class="s1">'Role'</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>Role</th>
</tr>
</thead>
<tbody>
<tr>
<th>Student</th>
<td>237</td>
</tr>
<tr>
<th>Waitlist Student</th>
<td>42</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can see here that our data contain not only students enrolled in the class at the time but also the students on the waitlist. The <code>Role</code> column tells us whether each student is enrolled.</p>
<p><strong>What about the names?  How can we summarize this field?</strong></p>
<p>In Data 100 we will work with many different kinds of data, including numerical, categorical, and text data. Each type of data has its own set of tools and techniques.</p>
<p>A quick way to start understanding the names is to examine the lengths of the names.</p>
</div>
</div>
</div>
<div class=" cell border-box-sizing code_cell rendered">
<div class="input">
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">students</span><span class="p">[</span><span class="s1">'Name'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">len</span><span class="p">(),</span>
             <span class="n">rug</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
             <span class="n">bins</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">12</span><span class="p">),</span>
             <span class="n">axlabel</span><span class="o">=</span><span class="s2">"Number of Characters"</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">12</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">'Proportion per character'</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_png output_subarea ">
<img src="/notebooks-images/lifecycle_students_2_11_0.png">
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This visualization shows us that most names are between 3 and 9 characters long. This gives us a chance to check whether our data seem reasonable — if there were many names that were 1 character long we'd have good reason to re-examine our data.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="What's-in-a-Name?">What's in a Name?<a class="anchor-link" href="#What's-in-a-Name?">¶</a></h3><p>Although this dataset is rather simple, we will soon see that first names alone can reveal quite a bit about our group of students.</p>
</div>
</div>
</div>
</div>

{% endraw %}
