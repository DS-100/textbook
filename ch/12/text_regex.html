
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>12.2. Regular Expressions &#8212; Principles and Techniques of Data Science</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx-book-theme.5f77b4aec8189eecf79907ce328c390d.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="12.3. Regex and Python" href="text_re.html" />
    <link rel="prev" title="12.1. Python String Methods" href="text_strings.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
      
      <h1 class="site-logo" id="site-title">Principles and Techniques of Data Science</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <p class="caption">
 <span class="caption-text">
  Frontmatter
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../preface.html">
   To the Reader
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../prereqs.html">
   Prerequisites
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../notation.html">
   Notation
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  The Data Science Lifecycle
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../01/lifecycle_intro.html">
   1. The Data Science Lifecycle
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../01/lifecycle_students_1.html">
     1.1. The Students of Data 100
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01/lifecycle_students_2.html">
     1.2. Exploratory Data Analysis
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01/lifecycle_students_3.html">
     1.3. What’s in a Name?
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../02/design_intro.html">
   2. Generalizing from Data
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/design_dewey_truman.html">
     2.1. Dewey Defeats Truman
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/design_data.html">
     2.2. Data Sampling
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/design_sampling.html">
     2.3. Probability Sampling
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/design_srs_vs_big_data.html">
     2.4. SRS vs. “Big Data”
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../03/modeling_intro.html">
   3. Modeling and Estimation
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/modeling_simple.html">
     3.1. Models
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/modeling_loss_functions.html">
     3.2. Loss Functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/modeling_abs_huber.html">
     3.3. Absolute and Huber Loss
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../04/cycle_case_study_intro.html">
   4. [In progress] Case Study
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Rectangular Data
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../05/sql_intro.html">
   5. Relational Databases and SQL
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../05/sql_rdbms.html">
     5.1. The Relational Model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05/sql_basics.html">
     5.2. SQL
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05/sql_joins.html">
     5.3. SQL Joins
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../06/pandas_intro.html">
   6. Working with Dataframes using pandas
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../06/pandas_indexes.html">
     6.1. Indexes, Slicing, and Sorting
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06/pandas_grouping_pivoting.html">
     6.2. Grouping and Pivoting
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06/pandas_apply_strings_plotting.html">
     6.3. Apply, Strings, and Plotting
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06/pandas_joins.html">
     6.4. [In progress] Joins
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Understanding The Data
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../07/repr_intro.html">
   7. Data Representation
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../07/repr_structure.html">
     7.1. Structure
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../07/repr_data_types.html">
     7.2. Data Types
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../07/repr_granularity.html">
     7.3. Granularity
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../08/quality_intro.html">
   8. [In Progress] Data Quality
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../09/eda_intro.html">
   9. [In Progress] Exploratory Data Analysis
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../10/viz_intro.html">
   10. Data Visualization
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../10/viz_quantitative.html">
     10.1. Visualizing Quantitative Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../10/viz_qualitative.html">
     10.2. Visualizing Qualitative Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../10/viz_matplotlib.html">
     10.3. Customizing Plots using
     <code class="docutils literal notranslate">
      <span class="pre">
       matplotlib
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../10/viz_principles.html">
     10.4. Visualization Principles
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../10/viz_principles_2.html">
     10.5. Visualization Principles Continued
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../10/viz_philosophy.html">
     10.6. Philosophy for Data Visualization
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../11/police_intro.html">
   11. [In progress] Case Study: Berkeley Policing
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../11/police_calls.html">
     11.1. Cleaning the Calls Dataset
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../11/police_stops.html">
     11.2. Cleaning The Stops Dataset
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Other Data Sources
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="text_intro.html">
   12. Working with Text
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="text_strings.html">
     12.1. Python String Methods
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     12.2. Regular Expressions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="text_re.html">
     12.3. Regex and Python
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../13/web_intro.html">
   13. Web Technologies
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../13/web_http.html">
     13.1. HTTP
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../13/web_rest.html">
     13.2. [In Progress] REST
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../13/web_html.html">
     13.3. [In Progress] XPath and HTML
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Linear Modeling
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../14/linear_models.html">
   14. Linear Models
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../14/linear_tips.html">
     14.1. Predicting Tip Amounts
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../14/linear_fitting.html">
     14.2. [In progress] Fitting a linear model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../14/linear_inference.html">
     14.3. [In progress] Inference for Linear Regression
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../14/linear_projection.html">
     14.4. Least Squares — A Geometric Perspective
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../15/prob_and_gen.html">
   15. Probability and Generalization
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
  <label for="toctree-checkbox-12">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../15/prob_random_vars.html">
     15.1. Random Variables
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../15/prob_exp_var.html">
     15.2. Expectation and Variance
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../15/prob_risk.html">
     15.3. Risk
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../16/gradient_descent.html">
   16. Gradient Descent and Numerical Optimization
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
  <label for="toctree-checkbox-13">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../16/gradient_basics.html">
     16.1. Loss Minimization Using a Program
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../16/gradient_descent_define.html">
     16.2. Gradient Descent
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../16/gradient_convexity.html">
     16.3. Convexity
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../16/gradient_stochastic.html">
     16.4. Stochastic Gradient Descent
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../16/gradient_lin_reg.html">
     16.5. Fitting a Linear Model Using Gradient Descent
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../17/donkey_intro.html">
   17. [In progress] Case Study: Donkey Dimensions
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
  <label for="toctree-checkbox-14">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../17/donkey_analysis.html">
     17.1. Linear Regression Case Study
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Multiple Linear Modeling
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../18/mult_intro.html">
   18. [In progress] Multiple Linear Regression
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
  <label for="toctree-checkbox-15">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../18/mult_model.html">
     18.1. Multiple Linear Regression
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../18/mult_inference.html">
     18.2. Inference for Multiple Linear Regression
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../19/feature_engineering.html">
   19. Feature Engineering
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
  <label for="toctree-checkbox-16">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../19/feature_one_hot.html">
     19.1. The Walmart dataset
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../19/feature_polynomial.html">
     19.2. Predicting Ice Cream Ratings
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../20/bias_intro.html">
   20. The Bias-Variance Tradeoff
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/>
  <label for="toctree-checkbox-17">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../20/bias_risk.html">
     20.1. Risk and Loss Minimization
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../20/bias_modeling.html">
     20.2. Model Bias and Variance
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../20/bias_cv.html">
     20.3. Cross-Validation
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../21/reg_intro.html">
   21. Regularization
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/>
  <label for="toctree-checkbox-18">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../21/reg_intuition.html">
     21.1. Regularization Intuition
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../21/reg_ridge.html">
     21.2. L2 Regularization: Ridge Regression
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../21/reg_lasso.html">
     21.3. L1 Regularization: Lasso Regression
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../22/mult_case_intro.html">
   22. [In progress] Case Study: Multiple Linear Models
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Classification
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../23/classification_intro.html">
   23. Classification
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/>
  <label for="toctree-checkbox-19">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../23/classification_prob.html">
     23.1. Regression on Probabilities
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../23/classification_log_model.html">
     23.2. The Logistic Model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../23/classification_cost.html">
     23.3. A Loss Function for the Logistic Model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../23/classification_log_reg.html">
     23.4. Using Logistic Regression
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../23/classification_cost_justification.html">
     23.5. Approximating the Empirical Probability Distribution
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../23/classification_sgd.html">
     23.6. Fitting a Logistic Model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../23/classification_sensitivity_specificity.html">
     23.7. Evaluating Logistic Models
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../23/classification_multiclass.html">
     23.8. Multiclass Classification
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Replicability
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../24/repl_intro.html">
   24. [In progress] Replicable Research
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/>
  <label for="toctree-checkbox-20">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../24/repl_phacking.html">
     24.1. P-hacking
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Extra Topics
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../25/pca_intro.html">
   25. Dimensionality Reduction and PCA
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/>
  <label for="toctree-checkbox-21">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../25/pca_dims.html">
     25.1. Dimensions of a Data Table
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../25/pca_svd.html">
     25.2. PCA using the Singular Value Decomposition
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../25/pca_in_practice.html">
     25.3. PCA in Practice
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../26/dtrees_intro.html">
   26. [In progress] Decision Trees and Random Forests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../27/clustering_intro.html">
   27. [In progress] Clustering
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Appendices
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../a01/prob_review.html">
   Probability Review
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../a02/vector_space_review.html">
   Vector Space Review
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../a03/hyp_intro.html">
   Statistical Inference Review
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" type="checkbox"/>
  <label for="toctree-checkbox-22">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../a03/hyp_introduction.html">
     Hypothesis Testing and Confidence Intervals
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../a03/hyp_introduction_part2.html">
     Permutation Test
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../a04/ref_intro.html">
   Reference Tables
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" type="checkbox"/>
  <label for="toctree-checkbox-23">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../a04/ref_pandas.html">
     pandas
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../a04/ref_seaborn.html">
     Seaborn
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../a04/ref_matplotlib.html">
     matplotlib
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../a04/ref_sklearn.html">
     scikit-learn
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../a05/contributors.html">
   Contributors
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../references.html">
   References
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/ch/12/text_regex.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#motivation">
   12.2.1. Motivation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#regex-syntax">
   12.2.2. Regex Syntax
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#literals">
   12.2.3. Literals
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#wildcard-character">
   12.2.4. Wildcard Character
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#character-classes">
   12.2.5. Character Classes
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#negated-character-classes">
   12.2.6. Negated Character Classes
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#quantifiers">
   12.2.7. Quantifiers
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#anchoring">
   12.2.8. Anchoring
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#escaping-meta-characters">
   12.2.9. Escaping Meta Characters
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#reference-tables">
   12.2.10. Reference Tables
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#summary">
   12.2.11. Summary
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="regular-expressions">
<h1><span class="section-number">12.2. </span>Regular Expressions<a class="headerlink" href="#regular-expressions" title="Permalink to this headline">¶</a></h1>
<p>In this section we introduce regular expressions, an important tool to specify patterns in strings.</p>
<div class="section" id="motivation">
<h2><span class="section-number">12.2.1. </span>Motivation<a class="headerlink" href="#motivation" title="Permalink to this headline">¶</a></h2>
<p>In a larger piece of text, many useful substrings come in a specific format. For instance, the sentence below contains a U.S. phone number.</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;give</span> <span class="pre">me</span> <span class="pre">a</span> <span class="pre">call,</span> <span class="pre">my</span> <span class="pre">number</span> <span class="pre">is</span> <span class="pre">123-456-7890.&quot;</span></code></p>
<p>The phone number contains the following pattern:</p>
<ol class="simple">
<li><p>Three numbers</p></li>
<li><p>Followed by a dash</p></li>
<li><p>Followed by three numbers</p></li>
<li><p>Followed by a dash</p></li>
<li><p>Followed by four Numbers</p></li>
</ol>
<p>Given a free-form segment of text, we might naturally wish to detect and extract the phone numbers. We may also wish to extract specific pieces of the phone numbers—for example, by extracting the area code we may deduce the locations of individuals mentioned in the text.</p>
<p>To detect whether a string contains a phone number, we may attempt to write a method like the following:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">is_phone_number</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    
    <span class="n">digits</span> <span class="o">=</span> <span class="s1">&#39;0123456789&#39;</span>
    
    <span class="k">def</span> <span class="nf">is_not_digit</span><span class="p">(</span><span class="n">token</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">token</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">digits</span> 
    
    <span class="c1"># Three numbers</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">is_not_digit</span><span class="p">(</span><span class="n">string</span><span class="p">[</span><span class="n">i</span><span class="p">]):</span>
            <span class="k">return</span> <span class="kc">False</span>
    
    <span class="c1"># Followed by a dash</span>
    <span class="k">if</span> <span class="n">string</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;-&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    
    <span class="c1"># Followed by three numbers</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">is_not_digit</span><span class="p">(</span><span class="n">string</span><span class="p">[</span><span class="n">i</span><span class="p">]):</span>
            <span class="k">return</span> <span class="kc">False</span>
        
    <span class="c1"># Followed by a dash    </span>
    <span class="k">if</span> <span class="n">string</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;-&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    
    <span class="c1"># Followed by four numbers</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">is_not_digit</span><span class="p">(</span><span class="n">string</span><span class="p">[</span><span class="n">i</span><span class="p">]):</span>
            <span class="k">return</span> <span class="kc">False</span>
    
    <span class="k">return</span> <span class="kc">True</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">is_phone_number</span><span class="p">(</span><span class="s2">&quot;382-384-3840&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">is_phone_number</span><span class="p">(</span><span class="s2">&quot;phone number&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
<p>The code above is unpleasant and verbose. Rather than manually loop through the characters of the string, we would prefer to specify a pattern and command Python to match the pattern.</p>
<p><strong>Regular expressions</strong> (often abbreviated <strong>regex</strong>) conveniently solve this exact problem by allowing us to create general patterns for strings. Using a regular expression, we may re-implement the <code class="docutils literal notranslate"><span class="pre">is_phone_number</span></code> method in two short lines of Python:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="k">def</span> <span class="nf">is_phone_number</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="n">regex</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;[0-9]</span><span class="si">{3}</span><span class="s2">-[0-9]</span><span class="si">{3}</span><span class="s2">-[0-9]</span><span class="si">{4}</span><span class="s2">&quot;</span>
    <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">regex</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

<span class="n">is_phone_number</span><span class="p">(</span><span class="s2">&quot;382-384-3840&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>In the code above, we use the regex <code class="docutils literal notranslate"><span class="pre">[0-9]{3}-[0-9]{3}-[0-9]{4}</span></code> to match phone numbers. Although cryptic at a first glance, the syntax of regular expressions is fortunately much simpler to learn than the Python language itself; we introduce nearly all of the syntax in this section alone.</p>
<p>We will also introduce the built-in Python module <code class="docutils literal notranslate"><span class="pre">re</span></code> that performs string operations using regexes.</p>
</div>
<div class="section" id="regex-syntax">
<h2><span class="section-number">12.2.2. </span>Regex Syntax<a class="headerlink" href="#regex-syntax" title="Permalink to this headline">¶</a></h2>
<p>We start with the syntax of regular expressions. In Python, regular expressions are most commonly stored as raw strings. Raw strings behave like normal Python strings without special handling for backslashes.</p>
<p>For example, to store the string <code class="docutils literal notranslate"><span class="pre">hello</span> <span class="pre">\</span> <span class="pre">world</span></code> in a normal Python string, we must write:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Backslashes need to be escaped in normal Python strings</span>
<span class="n">some_string</span> <span class="o">=</span> <span class="s1">&#39;hello </span><span class="se">\\</span><span class="s1"> world&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">some_string</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>hello \ world
</pre></div>
</div>
</div>
</div>
<p>Using a raw string removes the need to escape the backslash:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Note the `r` prefix on the string</span>
<span class="n">some_raw_string</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;hello \ world&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">some_raw_string</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>hello \ world
</pre></div>
</div>
</div>
</div>
<p>Since backslashes appear often in regular expressions, we will use raw strings for all regexes in this section.</p>
</div>
<div class="section" id="literals">
<h2><span class="section-number">12.2.3. </span>Literals<a class="headerlink" href="#literals" title="Permalink to this headline">¶</a></h2>
<p>A <strong>literal</strong> character in a regular expression matches the character itself. For example, the regex <code class="docutils literal notranslate"><span class="pre">r&quot;a&quot;</span></code> will match any <code class="docutils literal notranslate"><span class="pre">&quot;a&quot;</span></code> in <code class="docutils literal notranslate"><span class="pre">&quot;Say!</span> <span class="pre">I</span> <span class="pre">like</span> <span class="pre">green</span> <span class="pre">eggs</span> <span class="pre">and</span> <span class="pre">ham!&quot;</span></code>. All alphanumeric characters and most punctuation characters are regex literals.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">show_regex_match</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">regex</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Prints the string with the regex match highlighted.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;(</span><span class="si">{</span><span class="n">regex</span><span class="si">}</span><span class="s1">)&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;\033[1;30;43m\1\033[m&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># The show_regex_match method highlights all regex matches in the input string</span>
<span class="n">regex</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;green&quot;</span>
<span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;Say! I like green eggs and ham!&quot;</span><span class="p">,</span> <span class="n">regex</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Say! I like <span class=" -Color -Color-Bold -Color-Bold-Black -Color-Bold-Black-BGYellow">green</span> eggs and ham!
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;Say! I like green eggs and ham!&quot;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>S<span class=" -Color -Color-Bold -Color-Bold-Black -Color-Bold-Black-BGYellow">a</span>y! I like green eggs <span class=" -Color -Color-Bold -Color-Bold-Black -Color-Bold-Black-BGYellow">a</span>nd h<span class=" -Color -Color-Bold -Color-Bold-Black -Color-Bold-Black-BGYellow">a</span>m!
</pre></div>
</div>
</div>
</div>
<p>In the example above we observe that regular expressions can match patterns that appear anywhere in the input string. In Python, this behavior differs depending on the method used to match the regex—some methods only return a match if the regex appears at the start of the string; some methods return a match anywhere in the string.</p>
<p>Notice also that the <code class="docutils literal notranslate"><span class="pre">show_regex_match</span></code> method highlights all occurrences of the regex in the input string. Again, this differs depending on the Python method used—some methods return all matches while some only return the first match.</p>
<p>Regular expressions are case-sensitive. In the example below, the regex only matches the lowercase <code class="docutils literal notranslate"><span class="pre">s</span></code> in <code class="docutils literal notranslate"><span class="pre">eggs</span></code>, not the uppercase <code class="docutils literal notranslate"><span class="pre">S</span></code> in <code class="docutils literal notranslate"><span class="pre">Say</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;Say! I like green eggs and ham!&quot;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;s&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Say! I like green egg<span class=" -Color -Color-Bold -Color-Bold-Black -Color-Bold-Black-BGYellow">s</span> and ham!
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="wildcard-character">
<h2><span class="section-number">12.2.4. </span>Wildcard Character<a class="headerlink" href="#wildcard-character" title="Permalink to this headline">¶</a></h2>
<p>Some characters have special meaning in a regular expression. These meta characters allow regexes to match a variety of patterns.</p>
<p>In a regular expression, the period character <code class="docutils literal notranslate"><span class="pre">.</span></code> matches any character except a newline.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;Call me at 382-384-3840.&quot;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;.all&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold -Color-Bold-Black -Color-Bold-Black-BGYellow">Call</span> me at 382-384-3840.
</pre></div>
</div>
</div>
</div>
<p>To match only the literal period character we must escape it with a backslash:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;Call me at 382-384-3840.&quot;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;\.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Call me at 382-384-3840<span class=" -Color -Color-Bold -Color-Bold-Black -Color-Bold-Black-BGYellow">.</span>
</pre></div>
</div>
</div>
</div>
<p>By using the period character to mark the parts of a pattern that vary, we construct a regex to match phone numbers. For example, we may take our original phone number <code class="docutils literal notranslate"><span class="pre">382-384-3840</span></code> and replace the numbers with <code class="docutils literal notranslate"><span class="pre">.</span></code>, leaving the dashes as literals. This results in the regex <code class="docutils literal notranslate"><span class="pre">...-...-....</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;Call me at 382-384-3840.&quot;</span><span class="p">,</span> <span class="s2">&quot;...-...-....&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Call me at <span class=" -Color -Color-Bold -Color-Bold-Black -Color-Bold-Black-BGYellow">382-384-3840</span>.
</pre></div>
</div>
</div>
</div>
<p>Since the period character matches all characters, however, the following input string will produce a spurious match.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;My truck is not-all-blue.&quot;</span><span class="p">,</span> <span class="s2">&quot;...-...-....&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>My truck is <span class=" -Color -Color-Bold -Color-Bold-Black -Color-Bold-Black-BGYellow">not-all-blue</span>.
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="character-classes">
<h2><span class="section-number">12.2.5. </span>Character Classes<a class="headerlink" href="#character-classes" title="Permalink to this headline">¶</a></h2>
<p>A <strong>character class</strong> matches a specified set of characters, allowing us to create more restrictive matches than the <code class="docutils literal notranslate"><span class="pre">.</span></code> character alone. To create a character class, wrap the set of desired characters in brackets <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;I like your gray shirt.&quot;</span><span class="p">,</span> <span class="s2">&quot;gr[ae]y&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>I like your <span class=" -Color -Color-Bold -Color-Bold-Black -Color-Bold-Black-BGYellow">gray</span> shirt.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;I like your grey shirt.&quot;</span><span class="p">,</span> <span class="s2">&quot;gr[ae]y&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>I like your <span class=" -Color -Color-Bold -Color-Bold-Black -Color-Bold-Black-BGYellow">grey</span> shirt.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Does not match; a character class only matches one character from a set</span>
<span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;I like your graey shirt.&quot;</span><span class="p">,</span> <span class="s2">&quot;gr[ae]y&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>I like your graey shirt.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># In this example, repeating the character class will match</span>
<span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;I like your graey shirt.&quot;</span><span class="p">,</span> <span class="s2">&quot;gr[ae][ae]y&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>I like your <span class=" -Color -Color-Bold -Color-Bold-Black -Color-Bold-Black-BGYellow">graey</span> shirt.
</pre></div>
</div>
</div>
</div>
<p>In a character class, the <code class="docutils literal notranslate"><span class="pre">.</span></code> character is treated as a literal, not as a wildcard.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;I like your grey shirt.&quot;</span><span class="p">,</span> <span class="s2">&quot;irt[.]&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>I like your grey sh<span class=" -Color -Color-Bold -Color-Bold-Black -Color-Bold-Black-BGYellow">irt.</span>
</pre></div>
</div>
</div>
</div>
<p>There are a few special shorthand notations we can use for commonly used character classes:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Shorthand</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[0-9]</p></td>
<td><p>All the digits</p></td>
</tr>
<tr class="row-odd"><td><p>[a-z]</p></td>
<td><p>Lowercase letters</p></td>
</tr>
<tr class="row-even"><td><p>[A-Z]</p></td>
<td><p>Uppercase letters</p></td>
</tr>
</tbody>
</table>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;I like your gray shirt.&quot;</span><span class="p">,</span> <span class="s2">&quot;y[a-z]y&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>I like your gray shirt.
</pre></div>
</div>
</div>
</div>
<p>Character classes allow us to create a more specific regex for phone numbers.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># We replaced every `.` character in ...-...-.... with [0-9] to restrict</span>
<span class="c1"># matches to digits.</span>
<span class="n">phone_regex</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;[0-9][0-9][0-9]-[0-9][0-9][0-9]-[0-9][0-9][0-9][0-9]&#39;</span>
<span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;Call me at 382-384-3840.&quot;</span><span class="p">,</span> <span class="n">phone_regex</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Call me at <span class=" -Color -Color-Bold -Color-Bold-Black -Color-Bold-Black-BGYellow">382-384-3840</span>.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Now we no longer match this string:</span>
<span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;My truck is not-all-blue.&quot;</span><span class="p">,</span> <span class="n">phone_regex</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>My truck is not-all-blue.
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="negated-character-classes">
<h2><span class="section-number">12.2.6. </span>Negated Character Classes<a class="headerlink" href="#negated-character-classes" title="Permalink to this headline">¶</a></h2>
<p>A <strong>negated character class</strong> matches any character <strong>except</strong> the characters in the class. To create a negated character class, wrap the negated characters in <code class="docutils literal notranslate"><span class="pre">[^</span> <span class="pre">]</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;The car parked in the garage.&quot;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;[^c]ar&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The car <span class=" -Color -Color-Bold -Color-Bold-Black -Color-Bold-Black-BGYellow">par</span>ked in the <span class=" -Color -Color-Bold -Color-Bold-Black -Color-Bold-Black-BGYellow">gar</span>age.
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="quantifiers">
<h2><span class="section-number">12.2.7. </span>Quantifiers<a class="headerlink" href="#quantifiers" title="Permalink to this headline">¶</a></h2>
<p>To create a regex to match phone numbers, we wrote:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">][</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">][</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">-</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">][</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">][</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">-</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">][</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">][</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">][</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span>
</pre></div>
</div>
<p>This matches 3 digits, a dash, 3 more digits, a dash, and 4 more digits.</p>
<p>Quantifiers allow us to match multiple consecutive appearances of a pattern. We specify the number of repetitions by placing the number in curly braces <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">}</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">phone_regex</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;[0-9]</span><span class="si">{3}</span><span class="s1">-[0-9]</span><span class="si">{3}</span><span class="s1">-[0-9]</span><span class="si">{4}</span><span class="s1">&#39;</span>
<span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;Call me at 382-384-3840.&quot;</span><span class="p">,</span> <span class="n">phone_regex</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Call me at <span class=" -Color -Color-Bold -Color-Bold-Black -Color-Bold-Black-BGYellow">382-384-3840</span>.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># No match</span>
<span class="n">phone_regex</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;[0-9]</span><span class="si">{3}</span><span class="s1">-[0-9]</span><span class="si">{3}</span><span class="s1">-[0-9]</span><span class="si">{4}</span><span class="s1">&#39;</span>
<span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;Call me at 12-384-3840.&quot;</span><span class="p">,</span> <span class="n">phone_regex</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Call me at 12-384-3840.
</pre></div>
</div>
</div>
</div>
<p>A quantifier always modifies the character or character class to its immediate left. The following table shows the complete syntax for quantifiers.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Quantifier</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>{m, n}</p></td>
<td><p>Match the preceding character m to n times.</p></td>
</tr>
<tr class="row-odd"><td><p>{m}</p></td>
<td><p>Match the preceding character exactly m times.</p></td>
</tr>
<tr class="row-even"><td><p>{m,}</p></td>
<td><p>Match the preceding character at least m times.</p></td>
</tr>
<tr class="row-odd"><td><p>{,n}</p></td>
<td><p>Match the preceding character at most n times.</p></td>
</tr>
</tbody>
</table>
<p><strong>Shorthand Quantifiers</strong></p>
<p>Some commonly used quantifiers have a shorthand:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Symbol</p></th>
<th class="head"><p>Quantifier</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>*</p></td>
<td><p>{0,}</p></td>
<td><p>Match the preceding character 0 or more times</p></td>
</tr>
<tr class="row-odd"><td><p>+</p></td>
<td><p>{1,}</p></td>
<td><p>Match the preceding character 1 or more times</p></td>
</tr>
<tr class="row-even"><td><p>?</p></td>
<td><p>{0,1}</p></td>
<td><p>Match the preceding charcter 0 or 1 times</p></td>
</tr>
</tbody>
</table>
<p>We use the <code class="docutils literal notranslate"><span class="pre">*</span></code> character instead of <code class="docutils literal notranslate"><span class="pre">{0,}</span></code> in the following examples.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 3 a&#39;s</span>
<span class="n">show_regex_match</span><span class="p">(</span><span class="s1">&#39;He screamed &quot;Aaaah!&quot; as the cart took a plunge.&#39;</span><span class="p">,</span> <span class="s2">&quot;Aa*h!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>He screamed &quot;<span class=" -Color -Color-Bold -Color-Bold-Black -Color-Bold-Black-BGYellow">Aaaah!</span>&quot; as the cart took a plunge.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Lots of a&#39;s</span>
<span class="n">show_regex_match</span><span class="p">(</span>
    <span class="s1">&#39;He screamed &quot;Aaaaaaaaaaaaaaaaaaaah!&quot; as the cart took a plunge.&#39;</span><span class="p">,</span>
    <span class="s2">&quot;Aa*h!&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>He screamed &quot;<span class=" -Color -Color-Bold -Color-Bold-Black -Color-Bold-Black-BGYellow">Aaaaaaaaaaaaaaaaaaaah!</span>&quot; as the cart took a plunge.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># No lowercase a&#39;s</span>
<span class="n">show_regex_match</span><span class="p">(</span><span class="s1">&#39;He screamed &quot;Ah!&quot; as the cart took a plunge.&#39;</span><span class="p">,</span> <span class="s2">&quot;Aa*h!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>He screamed &quot;<span class=" -Color -Color-Bold -Color-Bold-Black -Color-Bold-Black-BGYellow">Ah!</span>&quot; as the cart took a plunge.
</pre></div>
</div>
</div>
</div>
<p><strong>Quantifiers are greedy</strong></p>
<p>Quantifiers will always return the longest match possible. This sometimes results in surprising behavior:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># We tried to match 311 and 911 but matched the ` and ` as well because</span>
<span class="c1"># `&lt;311&gt; and &lt;911&gt;` is the longest match possible for `&lt;.+&gt;`.</span>
<span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;Remember the numbers &lt;311&gt; and &lt;911&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;.+&gt;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Remember the numbers <span class=" -Color -Color-Bold -Color-Bold-Black -Color-Bold-Black-BGYellow">&lt;311&gt; and &lt;911&gt;</span>
</pre></div>
</div>
</div>
</div>
<p>In many cases, using a more specific character class prevents these false matches:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;Remember the numbers &lt;311&gt; and &lt;911&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;[0-9]+&gt;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Remember the numbers <span class=" -Color -Color-Bold -Color-Bold-Black -Color-Bold-Black-BGYellow">&lt;311&gt;</span> and <span class=" -Color -Color-Bold -Color-Bold-Black -Color-Bold-Black-BGYellow">&lt;911&gt;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="anchoring">
<h2><span class="section-number">12.2.8. </span>Anchoring<a class="headerlink" href="#anchoring" title="Permalink to this headline">¶</a></h2>
<p>Sometimes a pattern should only match at the beginning or end of a string.  The special character <code class="docutils literal notranslate"><span class="pre">^</span></code> anchors the regex to match only if the pattern appears at the beginning of the string; the special character <code class="docutils literal notranslate"><span class="pre">$</span></code> anchors the regex to match only if the pattern occurs at the end of the string.  For example the regex <code class="docutils literal notranslate"><span class="pre">well$</span></code> only matches an appearance of <code class="docutils literal notranslate"><span class="pre">well</span></code> at the end of the string.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">show_regex_match</span><span class="p">(</span><span class="s1">&#39;well, well, well&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;well$&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>well, well, <span class=" -Color -Color-Bold -Color-Bold-Black -Color-Bold-Black-BGYellow">well</span>
</pre></div>
</div>
</div>
</div>
<p>Using both <code class="docutils literal notranslate"><span class="pre">^</span></code> and <code class="docutils literal notranslate"><span class="pre">$</span></code> requires the regex to match the full string.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">phone_regex</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;^[0-9]</span><span class="si">{3}</span><span class="s2">-[0-9]</span><span class="si">{3}</span><span class="s2">-[0-9]</span><span class="si">{4}</span><span class="s2">$&quot;</span>
<span class="n">show_regex_match</span><span class="p">(</span><span class="s1">&#39;382-384-3840&#39;</span><span class="p">,</span> <span class="n">phone_regex</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold -Color-Bold-Black -Color-Bold-Black-BGYellow">382-384-3840</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># No match</span>
<span class="n">show_regex_match</span><span class="p">(</span><span class="s1">&#39;You can call me at 382-384-3840.&#39;</span><span class="p">,</span> <span class="n">phone_regex</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>You can call me at 382-384-3840.
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="escaping-meta-characters">
<h2><span class="section-number">12.2.9. </span>Escaping Meta Characters<a class="headerlink" href="#escaping-meta-characters" title="Permalink to this headline">¶</a></h2>
<p>All regex meta characters have special meaning in a regular expression. To match meta characters as literals, we escape them using the <code class="docutils literal notranslate"><span class="pre">\</span></code> character.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># `[` is a meta character and requires escaping</span>
<span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;Call me at [382-384-3840].&quot;</span><span class="p">,</span> <span class="s2">&quot;\[&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Call me at <span class=" -Color -Color-Bold -Color-Bold-Black -Color-Bold-Black-BGYellow">[</span>382-384-3840].
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># `.` is a meta character and requires escaping</span>
<span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;Call me at [382-384-3840].&quot;</span><span class="p">,</span> <span class="s2">&quot;\.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Call me at [382-384-3840]<span class=" -Color -Color-Bold -Color-Bold-Black -Color-Bold-Black-BGYellow">.</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="reference-tables">
<h2><span class="section-number">12.2.10. </span>Reference Tables<a class="headerlink" href="#reference-tables" title="Permalink to this headline">¶</a></h2>
<p>We have now covered the most important pieces of regex syntax and meta characters. For a more complete reference, we include the tables below.</p>
<p><strong>Meta Characters</strong></p>
<p>This table includes most of the important <em>meta characters</em>, which help us specify certain patterns we want to match in a string.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Char</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Example</p></th>
<th class="head"><p>Matches</p></th>
<th class="head"><p>Doesn’t Match</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>.</p></td>
<td><p>Any character except \n</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">...</span></code></p></td>
<td><p>abc</p></td>
<td><p>ab<br>abcd</p></td>
</tr>
<tr class="row-odd"><td><p>[ ]</p></td>
<td><p>Any character inside brackets</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[cb.]ar</span></code></p></td>
<td><p>car<br>.ar</p></td>
<td><p>jar</p></td>
</tr>
<tr class="row-even"><td><p>[^ ]</p></td>
<td><p>Any character <em>not</em> inside brackets</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[^b]ar</span></code></p></td>
<td><p>car<br>par</p></td>
<td><p>bar<br>ar</p></td>
</tr>
<tr class="row-odd"><td><p>*</p></td>
<td><p>≥ 0 or more of last symbol</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[pb]*ark</span></code></p></td>
<td><p>bbark<br>ark</p></td>
<td><p>dark</p></td>
</tr>
<tr class="row-even"><td><p>+</p></td>
<td><p>≥ 1 or more of last symbol</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[pb]+ark</span></code></p></td>
<td><p>bbpark<br>bark</p></td>
<td><p>dark<br>ark</p></td>
</tr>
<tr class="row-odd"><td><p>?</p></td>
<td><p>0 or 1 of last symbol</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">s?he</span></code></p></td>
<td><p>she<br>he</p></td>
<td><p>the</p></td>
</tr>
<tr class="row-even"><td><p>{<em>n</em>}</p></td>
<td><p>Exactly <em>n</em> of last symbol</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">hello{3}</span></code></p></td>
<td><p>hellooo</p></td>
<td><p>hello</p></td>
</tr>
<tr class="row-odd"><td><p>|</p></td>
<td><p>Pattern before or after bar</p></td>
<td><p><code>we|[ui]s</code></p></td>
<td><p>we<br>us<br>is</p></td>
<td><p>e<br>s</p></td>
</tr>
<tr class="row-even"><td><p>\</p></td>
<td><p>Escapes next character</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">\[hi\]</span></code></p></td>
<td><p>[hi]</p></td>
<td><p>hi</p></td>
</tr>
<tr class="row-odd"><td><p>^</p></td>
<td><p>Beginning of line</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">^ark</span></code></p></td>
<td><p>ark two</p></td>
<td><p>dark</p></td>
</tr>
<tr class="row-even"><td><p>$</p></td>
<td><p>End of line</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ark$</span></code></p></td>
<td><p>noahs ark</p></td>
<td><p>noahs arks</p></td>
</tr>
</tbody>
</table>
<p><strong>Shorthand Character Sets</strong></p>
<p>Some commonly used character sets have shorthands.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Description</p></th>
<th class="head"><p>Bracket Form</p></th>
<th class="head"><p>Shorthand</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Alphanumeric character</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[a-zA-Z0-9_]</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">\w</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Not an alphanumeric character</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[^a-zA-Z0-9_]</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">\W</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Digit</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[0-9]</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">\d</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Not a digit</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[^0-9]</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">\D</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Whitespace</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[\t\n\f\r\p{Z}]</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">\s</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Not whitespace</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[^\t\n\f\r\p{z}]</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">\S</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="summary">
<h2><span class="section-number">12.2.11. </span>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Almost all programming languages have a library to match patterns using regular expressions, making them useful regardless of the specific language. In this section, we introduce regex syntax and the most useful meta characters.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./ch/12"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="text_strings.html" title="previous page"><span class="section-number">12.1. </span>Python String Methods</a>
    <a class='right-next' id="next-link" href="text_re.html" title="next page"><span class="section-number">12.3. </span>Regex and Python</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Sam Lau, Joey Gonzalez, and Deb Nolan<br/>
        
            &copy; Copyright 2021.<br/>
          <div class="extra_footer">
            <p>
License: CC BY-NC-ND 4.0
</p>

          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
<script async="" src="https://www.google-analytics.com/analytics.js"></script>
<script>
                        window.ga = window.ga || function () {
                            (ga.q = ga.q || []).push(arguments) };
                        ga.l = +new Date;
                        ga('create', 'UA-113006011-1', 'auto');
                        ga('set', 'anonymizeIp', true);
                        ga('send', 'pageview');
                    </script>

  </body>
</html>