---
prev_page: '/ch/08/text_strings.html'
next_page: '/ch/08/text_re.html'
---

{% raw %}

<div id="ipython-notebook">
    <div class="buttons">
        <button class="interact-button js-nbinteract-widget">
            Show Widgets
        </button>
        <a class="interact-button" href="http://data100.datahub.berkeley.edu/user-redirect/git-pull?repo=https://github.com/DS-100/textbook&subPath=notebooks/08/text_regex.ipynb">Open on DataHub</a>
    </div>
    







  

  <div class="nbinteract-hide_in
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># HIDDEN</span>
<span class="c1"># Clear previously defined variables</span>
<span class="o">%</span><span class="k">reset</span> -f

<span class="c1"># Set directory for data loading to work properly</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~/notebooks/08&#39;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

  </div>

  

  <div class="nbinteract-hide_in
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># HIDDEN</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="c1"># Ignore numpy dtype warnings. These warnings are caused by an interaction</span>
<span class="c1"># between numpy and Cython and can be safely ignored.</span>
<span class="c1"># Reference: https://stackoverflow.com/a/40846742</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">&quot;numpy.dtype size changed&quot;</span><span class="p">)</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">&quot;numpy.ufunc size changed&quot;</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">ipywidgets</span> <span class="k">as</span> <span class="nn">widgets</span>
<span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="k">import</span> <span class="n">interact</span><span class="p">,</span> <span class="n">interactive</span><span class="p">,</span> <span class="n">fixed</span><span class="p">,</span> <span class="n">interact_manual</span>
<span class="kn">import</span> <span class="nn">nbinteract</span> <span class="k">as</span> <span class="nn">nbi</span>

<span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">()</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_context</span><span class="p">(</span><span class="s1">&#39;talk&#39;</span><span class="p">)</span>
<span class="n">np</span><span class="o">.</span><span class="n">set_printoptions</span><span class="p">(</span><span class="n">threshold</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">precision</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">suppress</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_rows</span> <span class="o">=</span> <span class="mi">7</span>
<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_columns</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;precision&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="c1"># This option stops scientific notation for pandas</span>
<span class="c1"># pd.set_option(&#39;display.float_format&#39;, &#39;{:.2f}&#39;.format)</span>
</pre></div>

    </div>
</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Regular-Expressions">Regular Expressions<a class="anchor-link" href="#Regular-Expressions">&#182;</a></h2><p>In this section we introduce regular expressions, an important tool to specify patterns in strings.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Motivation">Motivation<a class="anchor-link" href="#Motivation">&#182;</a></h2><p>In a larger piece of text, many useful substrings come in a specific format. For instance, the sentence below contains a U.S. phone number.</p>
<p><code>"give me a call, my number is 123-456-7890."</code></p>
<p>The phone number contains the following pattern:</p>
<ol>
<li>Three numbers</li>
<li>Followed by a dash</li>
<li>Followed by three numbers</li>
<li>Followed by a dash</li>
<li>Followed by four Numbers</li>
</ol>
<p>Given a free-form segment of text, we might naturally wish to detect and extract the phone numbers. We may also wish to extract specific pieces of the phone numbers—for example, by extracting the area code we may deduce the locations of individuals mentioned in the text.</p>
<p>To detect whether a string contains a phone number, we may attempt to write a method like the following:</p>

</div>
</div>
</div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">is_phone_number</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    
    <span class="n">digits</span> <span class="o">=</span> <span class="s1">&#39;0123456789&#39;</span>
    
    <span class="k">def</span> <span class="nf">is_not_digit</span><span class="p">(</span><span class="n">token</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">token</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">digits</span> 
    
    <span class="c1"># Three numbers</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">is_not_digit</span><span class="p">(</span><span class="n">string</span><span class="p">[</span><span class="n">i</span><span class="p">]):</span>
            <span class="k">return</span> <span class="kc">False</span>
    
    <span class="c1"># Followed by a dash</span>
    <span class="k">if</span> <span class="n">string</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;-&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    
    <span class="c1"># Followed by three numbers</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">is_not_digit</span><span class="p">(</span><span class="n">string</span><span class="p">[</span><span class="n">i</span><span class="p">]):</span>
            <span class="k">return</span> <span class="kc">False</span>
        
    <span class="c1"># Followed by a dash    </span>
    <span class="k">if</span> <span class="n">string</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;-&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    
    <span class="c1"># Followed by four numbers</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">is_not_digit</span><span class="p">(</span><span class="n">string</span><span class="p">[</span><span class="n">i</span><span class="p">]):</span>
            <span class="k">return</span> <span class="kc">False</span>
    
    <span class="k">return</span> <span class="kc">True</span>
</pre></div>

    </div>
</div>
</div>

  </div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">is_phone_number</span><span class="p">(</span><span class="s2">&quot;382-384-3840&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    



<div class="output_text output_subarea output_execute_result">
<pre>True</pre>
</div>

</div>

</div>
</div>

  </div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">is_phone_number</span><span class="p">(</span><span class="s2">&quot;phone number&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    



<div class="output_text output_subarea output_execute_result">
<pre>False</pre>
</div>

</div>

</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The code above is unpleasant and verbose. Rather than manually loop through the characters of the string, we would prefer to specify a pattern and command Python to match the pattern.</p>
<p><strong>Regular expressions</strong> (often abbreviated <strong>regex</strong>) conveniently solve this exact problem by allowing us to create general patterns for strings. Using a regular expression, we may re-implement the <code>is_phone_number</code> method in two short lines of Python:</p>

</div>
</div>
</div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="k">def</span> <span class="nf">is_phone_number</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="n">regex</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;[0-9]</span><span class="si">{3}</span><span class="s2">-[0-9]</span><span class="si">{3}</span><span class="s2">-[0-9]</span><span class="si">{4}</span><span class="s2">&quot;</span>
    <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">regex</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

<span class="n">is_phone_number</span><span class="p">(</span><span class="s2">&quot;382-384-3840&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    



<div class="output_text output_subarea output_execute_result">
<pre>True</pre>
</div>

</div>

</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In the code above, we use the regex <code>[0-9]{3}-[0-9]{3}-[0-9]{4}</code> to match phone numbers. Although cryptic at a first glance, the syntax of regular expressions is fortunately much simpler to learn than the Python language itself; we introduce nearly all of the syntax in this section alone.</p>
<p>We will also introduce the built-in Python module <code>re</code> that performs string operations using regexes.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Regex-Syntax">Regex Syntax<a class="anchor-link" href="#Regex-Syntax">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We start with the syntax of regular expressions. In Python, regular expressions are most commonly stored as raw strings. Raw strings behave like normal Python strings without special handling for backslashes.</p>
<p>For example, to store the string <code>hello \ world</code> in a normal Python string, we must write:</p>

</div>
</div>
</div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Backslashes need to be escaped in normal Python strings</span>
<span class="n">some_string</span> <span class="o">=</span> <span class="s1">&#39;hello </span><span class="se">\\</span><span class="s1"> world&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">some_string</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre>hello \ world
</pre>
</div>
</div>

</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Using a raw string removes the need to escape the backslash:</p>

</div>
</div>
</div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Note the `r` prefix on the string</span>
<span class="n">some_raw_string</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;hello \ world&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">some_raw_string</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre>hello \ world
</pre>
</div>
</div>

</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Since backslashes appear often in regular expressions, we will use raw strings for all regexes in this section.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Literals">Literals<a class="anchor-link" href="#Literals">&#182;</a></h3><p>A <strong>literal</strong> character in a regular expression matches the character itself. For example, the regex <code>r"a"</code> will match any <code>"a"</code> in <code>"Say! I like green eggs and ham!"</code>. All alphanumeric characters and most punctuation characters are regex literals.</p>

</div>
</div>
</div>

  

  <div class="nbinteract-hide_in
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># HIDDEN</span>
<span class="k">def</span> <span class="nf">show_regex_match</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">regex</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Prints the string with the regex match highlighted.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;(</span><span class="si">{regex}</span><span class="s1">)&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;\033[1;30;43m\1\033[m&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

  </div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># The show_regex_match method highlights all regex matches in the input string</span>
<span class="n">regex</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;green&quot;</span>
<span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;Say! I like green eggs and ham!&quot;</span><span class="p">,</span> <span class="n">regex</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre>Say! I like <span class="ansi-black-intense-fg ansi-yellow-bg ansi-bold">green</span> eggs and ham!
</pre>
</div>
</div>

</div>
</div>

  </div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;Say! I like green eggs and ham!&quot;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre>S<span class="ansi-black-intense-fg ansi-yellow-bg ansi-bold">a</span>y! I like green eggs <span class="ansi-black-intense-fg ansi-yellow-bg ansi-bold">a</span>nd h<span class="ansi-black-intense-fg ansi-yellow-bg ansi-bold">a</span>m!
</pre>
</div>
</div>

</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In the example above we observe that regular expressions can match patterns that appear anywhere in the input string. In Python, this behavior differs depending on the method used to match the regex—some methods only return a match if the regex appears at the start of the string; some methods return a match anywhere in the string.</p>
<p>Notice also that the <code>show_regex_match</code> method highlights all occurrences of the regex in the input string. Again, this differs depending on the Python method used—some methods return all matches while some only return the first match.</p>
<p>Regular expressions are case-sensitive. In the example below, the regex only matches the lowercase <code>s</code> in <code>eggs</code>, not the uppercase <code>S</code> in <code>Say</code>.</p>

</div>
</div>
</div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;Say! I like green eggs and ham!&quot;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;s&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre>Say! I like green egg<span class="ansi-black-intense-fg ansi-yellow-bg ansi-bold">s</span> and ham!
</pre>
</div>
</div>

</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Wildcard-Character">Wildcard Character<a class="anchor-link" href="#Wildcard-Character">&#182;</a></h3><p>Some characters have special meaning in a regular expression. These meta characters allow regexes to match a variety of patterns.</p>
<p>In a regular expression, the period character <code>.</code> matches any character except a newline.</p>

</div>
</div>
</div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;Call me at 382-384-3840.&quot;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;.all&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre><span class="ansi-black-intense-fg ansi-yellow-bg ansi-bold">Call</span> me at 382-384-3840.
</pre>
</div>
</div>

</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To match only the literal period character we must escape it with a backslash:</p>

</div>
</div>
</div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;Call me at 382-384-3840.&quot;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;\.&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre>Call me at 382-384-3840<span class="ansi-black-intense-fg ansi-yellow-bg ansi-bold">.</span>
</pre>
</div>
</div>

</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>By using the period character to mark the parts of a pattern that vary, we construct a regex to match phone numbers. For example, we may take our original phone number <code>382-384-3840</code> and replace the numbers with <code>.</code>, leaving the dashes as literals. This results in the regex <code>...-...-....</code>.</p>

</div>
</div>
</div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;Call me at 382-384-3840.&quot;</span><span class="p">,</span> <span class="s2">&quot;...-...-....&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre>Call me at <span class="ansi-black-intense-fg ansi-yellow-bg ansi-bold">382-384-3840</span>.
</pre>
</div>
</div>

</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Since the period character matches all characters, however, the following input string will produce a spurious match.</p>

</div>
</div>
</div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;My truck is not-all-blue.&quot;</span><span class="p">,</span> <span class="s2">&quot;...-...-....&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre>My truck is <span class="ansi-black-intense-fg ansi-yellow-bg ansi-bold">not-all-blue</span>.
</pre>
</div>
</div>

</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Character-Classes">Character Classes<a class="anchor-link" href="#Character-Classes">&#182;</a></h3><p>A <strong>character class</strong> matches a specified set of characters, allowing us to create more restrictive matches than the <code>.</code> character alone. To create a character class, wrap the set of desired characters in brackets <code>[ ]</code>.</p>

</div>
</div>
</div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;I like your gray shirt.&quot;</span><span class="p">,</span> <span class="s2">&quot;gr[ae]y&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre>I like your <span class="ansi-black-intense-fg ansi-yellow-bg ansi-bold">gray</span> shirt.
</pre>
</div>
</div>

</div>
</div>

  </div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;I like your grey shirt.&quot;</span><span class="p">,</span> <span class="s2">&quot;gr[ae]y&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre>I like your <span class="ansi-black-intense-fg ansi-yellow-bg ansi-bold">grey</span> shirt.
</pre>
</div>
</div>

</div>
</div>

  </div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Does not match; a character class only matches one character from a set</span>
<span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;I like your graey shirt.&quot;</span><span class="p">,</span> <span class="s2">&quot;gr[ae]y&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre>I like your graey shirt.
</pre>
</div>
</div>

</div>
</div>

  </div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># In this example, repeating the character class will match</span>
<span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;I like your graey shirt.&quot;</span><span class="p">,</span> <span class="s2">&quot;gr[ae][ae]y&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre>I like your <span class="ansi-black-intense-fg ansi-yellow-bg ansi-bold">graey</span> shirt.
</pre>
</div>
</div>

</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In a character class, the <code>.</code> character is treated as a literal, not as a wildcard.</p>

</div>
</div>
</div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;I like your grey shirt.&quot;</span><span class="p">,</span> <span class="s2">&quot;irt[.]&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre>I like your grey sh<span class="ansi-black-intense-fg ansi-yellow-bg ansi-bold">irt.</span>
</pre>
</div>
</div>

</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>There are a few special shorthand notations we can use for commonly used character classes:</p>
<table>
<thead><tr>
<th>Shorthand</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>[0-9]</td>
<td>All the digits</td>
</tr>
<tr>
<td>[a-z]</td>
<td>Lowercase letters</td>
</tr>
<tr>
<td>[A-Z]</td>
<td>Uppercase letters</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;I like your gray shirt.&quot;</span><span class="p">,</span> <span class="s2">&quot;y[a-z]y&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre>I like your gray shirt.
</pre>
</div>
</div>

</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Character classes allow us to create a more specific regex for phone numbers.</p>

</div>
</div>
</div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># We replaced every `.` character in ...-...-.... with [0-9] to restrict</span>
<span class="c1"># matches to digits.</span>
<span class="n">phone_regex</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;[0-9][0-9][0-9]-[0-9][0-9][0-9]-[0-9][0-9][0-9][0-9]&#39;</span>
<span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;Call me at 382-384-3840.&quot;</span><span class="p">,</span> <span class="n">phone_regex</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre>Call me at <span class="ansi-black-intense-fg ansi-yellow-bg ansi-bold">382-384-3840</span>.
</pre>
</div>
</div>

</div>
</div>

  </div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Now we no longer match this string:</span>
<span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;My truck is not-all-blue.&quot;</span><span class="p">,</span> <span class="n">phone_regex</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre>My truck is not-all-blue.
</pre>
</div>
</div>

</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Negated-Character-Classes">Negated Character Classes<a class="anchor-link" href="#Negated-Character-Classes">&#182;</a></h3><p>A <strong>negated character class</strong> matches any character <strong>except</strong> the characters in the class. To create a negated character class, wrap the negated characters in <code>[^ ]</code>.</p>

</div>
</div>
</div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;The car parked in the garage.&quot;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;[^c]ar&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre>The car <span class="ansi-black-intense-fg ansi-yellow-bg ansi-bold">par</span>ked in the <span class="ansi-black-intense-fg ansi-yellow-bg ansi-bold">gar</span>age.
</pre>
</div>
</div>

</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Quantifiers">Quantifiers<a class="anchor-link" href="#Quantifiers">&#182;</a></h3><p>To create a regex to match phone numbers, we wrote:</p>

<pre><code>[0-9][0-9][0-9]-[0-9][0-9][0-9]-[0-9][0-9][0-9][0-9]</code></pre>
<p>This matches 3 digits, a dash, 3 more digits, a dash, and 4 more digits.</p>
<p>Quantifiers allow us to match multiple consecutive appearances of a pattern. We specify the number of repetitions by placing the number in curly braces <code>{ }</code>.</p>

</div>
</div>
</div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">phone_regex</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;[0-9]</span><span class="si">{3}</span><span class="s1">-[0-9]</span><span class="si">{3}</span><span class="s1">-[0-9]</span><span class="si">{4}</span><span class="s1">&#39;</span>
<span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;Call me at 382-384-3840.&quot;</span><span class="p">,</span> <span class="n">phone_regex</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre>Call me at <span class="ansi-black-intense-fg ansi-yellow-bg ansi-bold">382-384-3840</span>.
</pre>
</div>
</div>

</div>
</div>

  </div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># No match</span>
<span class="n">phone_regex</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;[0-9]</span><span class="si">{3}</span><span class="s1">-[0-9]</span><span class="si">{3}</span><span class="s1">-[0-9]</span><span class="si">{4}</span><span class="s1">&#39;</span>
<span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;Call me at 12-384-3840.&quot;</span><span class="p">,</span> <span class="n">phone_regex</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre>Call me at 12-384-3840.
</pre>
</div>
</div>

</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A quantifier always modifies the character or character class to its immediate left. The following table shows the complete syntax for quantifiers.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<table>
<thead><tr>
<th>Quantifier</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>{m, n}</td>
<td>Match the preceding character m to n times.</td>
</tr>
<tr>
<td>{m}</td>
<td>Match the preceding character exactly m times.</td>
</tr>
<tr>
<td>{m,}</td>
<td>Match the preceding character at least m times.</td>
</tr>
<tr>
<td>{,n}</td>
<td>Match the preceding character at most n times.</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Shorthand Quantifiers</strong></p>
<p>Some commonly used quantifiers have a shorthand:</p>
<table>
<thead><tr>
<th>Symbol</th>
<th>Quantifier</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>*</td>
<td>{0,}</td>
<td>Match the preceding character 0 or more times</td>
</tr>
<tr>
<td>+</td>
<td>{1,}</td>
<td>Match the preceding character 1 or more times</td>
</tr>
<tr>
<td>?</td>
<td>{0,1}</td>
<td>Match the preceding charcter 0 or 1 times</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We use the <code>*</code> character instead of <code>{0,}</code> in the following examples.</p>

</div>
</div>
</div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 3 a&#39;s</span>
<span class="n">show_regex_match</span><span class="p">(</span><span class="s1">&#39;He screamed &quot;Aaaah!&quot; as the cart took a plunge.&#39;</span><span class="p">,</span> <span class="s2">&quot;Aa*h!&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre>He screamed &#34;<span class="ansi-black-intense-fg ansi-yellow-bg ansi-bold">Aaaah!</span>&#34; as the cart took a plunge.
</pre>
</div>
</div>

</div>
</div>

  </div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Lots of a&#39;s</span>
<span class="n">show_regex_match</span><span class="p">(</span>
    <span class="s1">&#39;He screamed &quot;Aaaaaaaaaaaaaaaaaaaah!&quot; as the cart took a plunge.&#39;</span><span class="p">,</span>
    <span class="s2">&quot;Aa*h!&quot;</span>
<span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre>He screamed &#34;<span class="ansi-black-intense-fg ansi-yellow-bg ansi-bold">Aaaaaaaaaaaaaaaaaaaah!</span>&#34; as the cart took a plunge.
</pre>
</div>
</div>

</div>
</div>

  </div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># No lowercase a&#39;s</span>
<span class="n">show_regex_match</span><span class="p">(</span><span class="s1">&#39;He screamed &quot;Ah!&quot; as the cart took a plunge.&#39;</span><span class="p">,</span> <span class="s2">&quot;Aa*h!&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre>He screamed &#34;<span class="ansi-black-intense-fg ansi-yellow-bg ansi-bold">Ah!</span>&#34; as the cart took a plunge.
</pre>
</div>
</div>

</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Quantifiers are greedy</strong></p>
<p>Quantifiers will always return the longest match possible. This sometimes results in surprising behavior:</p>

</div>
</div>
</div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># We tried to match 311 and 911 but matched the ` and ` as well because</span>
<span class="c1"># `&lt;311&gt; and &lt;911&gt;` is the longest match possible for `&lt;.+&gt;`.</span>
<span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;Remember the numbers &lt;311&gt; and &lt;911&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;.+&gt;&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre>Remember the numbers <span class="ansi-black-intense-fg ansi-yellow-bg ansi-bold">&lt;311&gt; and &lt;911&gt;</span>
</pre>
</div>
</div>

</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In many cases, using a more specific character class prevents these false matches:</p>

</div>
</div>
</div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;Remember the numbers &lt;311&gt; and &lt;911&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;[0-9]+&gt;&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre>Remember the numbers <span class="ansi-black-intense-fg ansi-yellow-bg ansi-bold">&lt;311&gt;</span> and <span class="ansi-black-intense-fg ansi-yellow-bg ansi-bold">&lt;911&gt;</span>
</pre>
</div>
</div>

</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Anchoring">Anchoring<a class="anchor-link" href="#Anchoring">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Sometimes a pattern should only match at the beginning or end of a string.  The special character <code>^</code> anchors the regex to match only if the pattern appears at the beginning of the string; the special character <code>$</code> anchors the regex to match only if the pattern occurs at the end of the string.  For example the regex <code>well$</code> only matches an appearance of <code>well</code> at the end of the string.</p>

</div>
</div>
</div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show_regex_match</span><span class="p">(</span><span class="s1">&#39;well, well, well&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;well$&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre>well, well, <span class="ansi-black-intense-fg ansi-yellow-bg ansi-bold">well</span>
</pre>
</div>
</div>

</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Using both <code>^</code> and <code>$</code> requires the regex to match the full string.</p>

</div>
</div>
</div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">phone_regex</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;^[0-9]</span><span class="si">{3}</span><span class="s2">-[0-9]</span><span class="si">{3}</span><span class="s2">-[0-9]</span><span class="si">{4}</span><span class="s2">$&quot;</span>
<span class="n">show_regex_match</span><span class="p">(</span><span class="s1">&#39;382-384-3840&#39;</span><span class="p">,</span> <span class="n">phone_regex</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre><span class="ansi-black-intense-fg ansi-yellow-bg ansi-bold">382-384-3840</span>
</pre>
</div>
</div>

</div>
</div>

  </div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># No match</span>
<span class="n">show_regex_match</span><span class="p">(</span><span class="s1">&#39;You can call me at 382-384-3840.&#39;</span><span class="p">,</span> <span class="n">phone_regex</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre>You can call me at 382-384-3840.
</pre>
</div>
</div>

</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Escaping-Meta-Characters">Escaping Meta Characters<a class="anchor-link" href="#Escaping-Meta-Characters">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>All regex meta characters have special meaning in a regular expression. To match meta characters as literals, we escape them using the <code>\</code> character.</p>

</div>
</div>
</div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># `[` is a meta character and requires escaping</span>
<span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;Call me at [382-384-3840].&quot;</span><span class="p">,</span> <span class="s2">&quot;\[&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre>Call me at <span class="ansi-black-intense-fg ansi-yellow-bg ansi-bold">[</span>382-384-3840].
</pre>
</div>
</div>

</div>
</div>

  </div>

  

  <div class="
      cell border-box-sizing code_cell rendered">
    <div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># `.` is a meta character and requires escaping</span>
<span class="n">show_regex_match</span><span class="p">(</span><span class="s2">&quot;Call me at [382-384-3840].&quot;</span><span class="p">,</span> <span class="s2">&quot;\.&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    

<div class="output_subarea output_stream output_stdout output_text">
<pre>Call me at [382-384-3840]<span class="ansi-black-intense-fg ansi-yellow-bg ansi-bold">.</span>
</pre>
</div>
</div>

</div>
</div>

  </div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Reference-Tables">Reference Tables<a class="anchor-link" href="#Reference-Tables">&#182;</a></h2><p>We have now covered the most important pieces of regex syntax and meta characters. For a more complete reference, we include the tables below.</p>
<p><strong>Meta Characters</strong></p>
<p>This table includes most of the important <em>meta characters</em>, which help us specify certain patterns we want to match in a string.</p>
<table>
<thead><tr>
<th>Char</th>
<th>Description</th>
<th>Example</th>
<th>Matches</th>
<th>Doesn't Match</th>
</tr>
</thead>
<tbody>
<tr>
<td>.</td>
<td>Any character except \n</td>
<td><code>...</code></td>
<td>abc</td>
<td>ab<br>abcd</td>
</tr>
<tr>
<td>[ ]</td>
<td>Any character inside brackets</td>
<td><code>[cb.]ar</code></td>
<td>car<br>.ar</td>
<td>jar</td>
</tr>
<tr>
<td>[^ ]</td>
<td>Any character <em>not</em> inside brackets</td>
<td><code>[^b]ar</code></td>
<td>car<br>par</td>
<td>bar<br>ar</td>
</tr>
<tr>
<td>*</td>
<td>≥ 0 or more of last symbol</td>
<td><code>[pb]*ark</code></td>
<td>bbark<br>ark</td>
<td>dark</td>
</tr>
<tr>
<td>+</td>
<td>≥ 1 or more of last symbol</td>
<td><code>[pb]+ark</code></td>
<td>bbpark<br>bark</td>
<td>dark<br>ark</td>
</tr>
<tr>
<td>?</td>
<td>0 or 1 of last symbol</td>
<td><code>s?he</code></td>
<td>she<br>he</td>
<td>the</td>
</tr>
<tr>
<td>{<em>n</em>}</td>
<td>Exactly <em>n</em> of last symbol</td>
<td><code>hello{3}</code></td>
<td>hellooo</td>
<td>hello</td>
</tr>
<tr>
<td>&#124;</td>
<td>Pattern before or after bar</td>
<td>`we\</td>
<td>124\</td>
<td>[ui]s`</td>
<td>we<br>us<br>is</td>
<td>e<br>s</td>
</tr>
<tr>
<td>\</td>
<td>Escapes next character</td>
<td><code>\[hi\]</code></td>
<td>[hi]</td>
<td>hi</td>
</tr>
<tr>
<td>^</td>
<td>Beginning of line</td>
<td><code>^ark</code></td>
<td>ark two</td>
<td>dark</td>
</tr>
<tr>
<td>\$</td>
<td>End of line</td>
<td><code>ark$</code></td>
<td>noahs ark</td>
<td>noahs arks</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Shorthand Character Sets</strong></p>
<p>Some commonly used character sets have shorthands.</p>
<table>
<thead><tr>
<th>Description</th>
<th>Bracket Form</th>
<th>Shorthand</th>
</tr>
</thead>
<tbody>
<tr>
<td>Alphanumeric character</td>
<td><code>[a-zA-Z0-9]</code></td>
<td><code>\w</code></td>
</tr>
<tr>
<td>Not an alphanumeric character</td>
<td><code>[^a-zA-Z0-9]</code></td>
<td><code>\W</code></td>
</tr>
<tr>
<td>Digit</td>
<td><code>[0-9]</code></td>
<td><code>\d</code></td>
</tr>
<tr>
<td>Not a digit</td>
<td><code>[^0-9]</code></td>
<td><code>\D</code></td>
</tr>
<tr>
<td>Whitespace</td>
<td><code>[\t\n\f\r\p{Z}]</code></td>
<td><code>\s</code></td>
</tr>
<tr>
<td>Not whitespace</td>
<td><code>[^\t\n\f\r\p{z}]</code></td>
<td><code>\S</code></td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Summary">Summary<a class="anchor-link" href="#Summary">&#182;</a></h2><p>Almost all programming languages have a library to match patterns using regular expressions, making them useful regardless of the specific language. In this section, we introduce regex syntax and the most useful meta characters.</p>

</div>
</div>
</div>


</div>

{% endraw %}