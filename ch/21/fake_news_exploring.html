

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>21.3. Exploring the Data &#8212; Learning Data Science</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/custom.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-113006011-1"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'UA-113006011-1');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'ch/21/fake_news_exploring';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="21.4. Modeling" href="fake_news_modeling.html" />
    <link rel="prev" title="21.2. Obtaining and Wrangling the Data" href="fake_news_data.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
  
    <p class="title logo__title">Learning Data Science</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Frontmatter</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../preface.html">To the Data 100 Student</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../prereqs.html">Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notation.html">Notation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">The Data Science Lifecycle</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../01/lifecycle_intro.html">1. The Data Science Lifecycle</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../01/lifecycle_cycle.html">1.1. The Stages of the Lifecycle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../01/lifecycle_map.html">1.2. Examples of the Lifecycle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../01/lifecycle_summary.html">1.3. Summary</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../02/data_scope_intro.html">2. Questions and Data Scope</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../02/data_scope_big_data_hubris.html">2.1. Big Data and New Opportunities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02/data_scope_construct.html">2.2. Target Population, Access Frame, Sample</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02/data_scope_protocols.html">2.3. Instruments and Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02/data_scope_natural.html">2.4. Measuring Natural Phenomenon</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02/data_scope_accuracy.html">2.5. Accuracy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02/data_scope_summary.html">2.6. Summary</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../03/theory_intro.html">3. Simulation and Data Design</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../03/theory_urn.html">3.1. The Urn Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../03/theory_election.html">3.2. Example: Simulating Election Poll Bias and Variance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../03/theory_vaccine_efficacy.html">3.3. Example: Simulating a Randomized Trial for a Vaccine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../03/theory_measurement_error.html">3.4. Example: Measuring Air Quality</a></li>
<li class="toctree-l2"><a class="reference internal" href="../03/theory_summary.html">3.5. Summary</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../04/modeling_intro.html">4. Modeling with Summary Statistics</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../04/modeling_simple.html">4.1. The Constant Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../04/modeling_loss_functions.html">4.2. Minimizing Loss</a></li>
<li class="toctree-l2"><a class="reference internal" href="../04/modeling_summary.html">4.3. Summary</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../05/bus_intro.html">5. Case Study: Why is my Bus Always Late?</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../05/bus_scope.html">5.1. Question and Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../05/bus_clean.html">5.2. Data Wrangling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../05/bus_eda.html">5.3. Exploring Bus Times</a></li>
<li class="toctree-l2"><a class="reference internal" href="../05/bus_modeling.html">5.4. Modeling Wait Times</a></li>
<li class="toctree-l2"><a class="reference internal" href="../05/bus_summary.html">5.5. Summary</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Rectangular Data</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../06/pandas_intro.html">6. Working With Dataframes Using pandas</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../06/pandas_subsetting.html">6.1. Subsetting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../06/pandas_aggregating.html">6.2. Aggregating</a></li>
<li class="toctree-l2"><a class="reference internal" href="../06/pandas_joining.html">6.3. Joining</a></li>
<li class="toctree-l2"><a class="reference internal" href="../06/pandas_transforming.html">6.4. Transforming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../06/pandas_other_reps.html">6.5. How are Dataframes Different from Other Data Representations?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../06/pandas_summary.html">6.6. Summary</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../07/sql_intro.html">7. Working With Relations Using SQL</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../07/sql_subsetting.html">7.1. Subsetting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../07/sql_aggregating.html">7.2. Aggregating</a></li>
<li class="toctree-l2"><a class="reference internal" href="../07/sql_joining.html">7.3. Joining</a></li>
<li class="toctree-l2"><a class="reference internal" href="../07/sql_transforming.html">7.4. Transforming and Common Table Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../07/sql_summary.html">7.5. Summary</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Understanding The Data</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../08/files_intro.html">8. Wrangling Files</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../08/files_datasets.html">8.1. Data Source Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../08/files_formats.html">8.2. File Formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../08/files_encoding.html">8.3. File Encoding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../08/files_size.html">8.4. File Size</a></li>
<li class="toctree-l2"><a class="reference internal" href="../08/files_command_line.html">8.5. The Shell and Command Line Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../08/files_granularity.html">8.6. Table Shape and Granularity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../08/files_summary.html">8.7. Summary</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../09/wrangling_intro.html">9. Wrangling Dataframes</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../09/wrangling_co2.html">9.1. Example: Wrangling CO2 Measurements from Mauna Loa Observatory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../09/wrangling_checks.html">9.2. Quality Checks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../09/wrangling_missing.html">9.3. Missing Values and Records</a></li>
<li class="toctree-l2"><a class="reference internal" href="../09/wrangling_transformations.html">9.4. Transformations and Timestamps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../09/wrangling_structure.html">9.5. Modifying Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../09/wrangling_restaurants.html">9.6. Example: Wrangling Restaurant Safety Violations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../09/wrangling_summary.html">9.7. Summary</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../10/eda_intro.html">10. Exploratory Data Analysis</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../10/eda_feature_types.html">10.1. Feature Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10/eda_distributions.html">10.2. What to Look For in a Distribution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10/eda_relationships.html">10.3. What to Look For in a Relationship</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10/eda_multi.html">10.4. Comparisons in Multivariate Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10/eda_guidelines.html">10.5. Guidelines for Exploration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10/eda_example.html">10.6. Example: Sale Prices for Houses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10/eda_summary.html">10.7. Summary</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../11/viz_intro.html">11. Data Visualization</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../11/viz_scale.html">11.1. Choosing Scale to Reveal Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../11/viz_smoothing.html">11.2. Smoothing and Aggregating Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../11/viz_comparisons.html">11.3. Facilitating Meaningful Comparisons</a></li>
<li class="toctree-l2"><a class="reference internal" href="../11/viz_data_design.html">11.4. Incorporating the Data Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../11/viz_context.html">11.5. Adding Context</a></li>
<li class="toctree-l2"><a class="reference internal" href="../11/viz_plotly.html">11.6. Creating Plots Using <code class="docutils literal notranslate"><span class="pre">plotly</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../11/viz_other_tools.html">11.7. Other Tools for Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../11/viz_summary.html">11.8. Summary</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../12/pa_intro.html">12. Case Study: How Accurate are Air Quality Measurements?</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../12/pa_scope.html">12.1. Question, Design, and Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../12/pa_collocated.html">12.2. Finding Collocated Sensors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../12/pa_cleaning_aqs.html">12.3. Wrangling and Cleaning AQS Sensor Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../12/pa_cleaning_purpleair.html">12.4. Wrangling PurpleAir Sensor Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../12/pa_eda.html">12.5. Exploring PurpleAir and AQS Measurements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../12/pa_modeling.html">12.6. Creating a Model to Correct PurpleAir Measurements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../12/pa_conclusion.html">12.7. Summary</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Other Data Sources</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../13/text_intro.html">13. Working with Text</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../13/text_examples.html">13.1. Examples of Text and Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../13/text_strings.html">13.2. String Manipulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../13/text_regex.html">13.3. Regular Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../13/text_sotu.html">13.4. Text Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../13/text_summary.html">13.5. Summary</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../14/web_intro.html">14. Data Exchange</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-14"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../14/web_netCDF.html">14.1. NetCDF Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../14/web_json.html">14.2. JSON Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../14/web_http.html">14.3. HTTP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../14/web_rest.html">14.4. REST</a></li>
<li class="toctree-l2"><a class="reference internal" href="../14/web_html.html">14.5. XML, HTML, and XPath</a></li>
<li class="toctree-l2"><a class="reference internal" href="../14/web_summary.html">14.6. Summary</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Linear Modeling</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../15/linear_intro.html">15. Linear Models</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-15"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../15/linear_simple.html">15.1. Simple Linear Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../15/linear_pa.html">15.2. Example: A Simple Linear Model for Air Quality</a></li>
<li class="toctree-l2"><a class="reference internal" href="../15/linear_simple_fit.html">15.3. Fitting the Simple Linear Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../15/linear_multi.html">15.4. Multiple Linear Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../15/linear_multi_fit.html">15.5. Fitting the Multiple Linear Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../15/linear_case.html">15.6. Example: Where is the Land of Opportunity?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../15/linear_feature_eng.html">15.7. Feature Engineering for Numeric Measurements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../15/linear_categorical.html">15.8. Feature Engineering for Categorical Measurements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../15/linear_summary.html">15.9. Summary</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../16/ms_intro.html">16. Model Selection</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-16"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../16/ms_overfitting.html">16.1. Overfitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../16/ms_train_test.html">16.2. Train-Test Split</a></li>
<li class="toctree-l2"><a class="reference internal" href="../16/ms_cv.html">16.3. Cross-Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../16/ms_regularization.html">16.4. Regularization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../16/ms_risk.html">16.5. Model Bias and Variance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../16/ms_summary.html">16.6. Summary</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../17/inf_pred_gen_intro.html">17. Theory for Inference and Prediction</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-17"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../17/inf_pred_gen_dist.html">17.1. Distributions: Population, Empirical, Sampling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../17/inf_pred_gen_HT.html">17.2. Basics of Hypothesis Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../17/inf_pred_gen_boot.html">17.3. Bootstrapping for Inference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../17/inf_pred_gen_CI.html">17.4. Basics of Confidence Intervals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../17/inf_pred_gen_PI.html">17.5. Basics of Prediction Intervals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../17/inf_pred_gen_prob.html">17.6. Probability for Inference and Prediction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../17/inf_pred_gen_summary.html">17.7. Summary</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../18/donkey_intro.html">18. Case Study: How to Weigh a Donkey</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-18"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../18/donkey_scope.html">18.1. Donkey Study Question and Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../18/donkey_clean.html">18.2. Wrangling and Transforming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../18/donkey_eda.html">18.3. Exploring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../18/donkey_model.html">18.4. Modeling a Donkey’s Weight</a></li>
<li class="toctree-l2"><a class="reference internal" href="../18/donkey_summary.html">18.5. Summary</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Classification</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../19/class_intro.html">19. Classification</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-19"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../19/class_example.html">19.1. Example: Wind Damaged Trees</a></li>
<li class="toctree-l2"><a class="reference internal" href="../19/class_pred.html">19.2. Modeling and Classification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../19/class_log_model.html">19.3. Modeling Proportions (and Probabilities)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../19/class_loss.html">19.4. A Loss Function for the Logistic Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../19/class_dr.html">19.5. From Probabilities to Classification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../19/class_summary.html">19.6. Summary</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../20/gd_intro.html">20. Numerical Optimization</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-20"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../20/gd_basics.html">20.1. Gradient Descent Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../20/gd_example.html">20.2. Minimizing Huber Loss</a></li>
<li class="toctree-l2"><a class="reference internal" href="../20/gd_convex.html">20.3. Convex and Differentiable Loss Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../20/gd_alternative.html">20.4. Variants of Gradient Descent</a></li>
<li class="toctree-l2"><a class="reference internal" href="../20/gd_summary.html">20.5. Summary</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="fake_news_intro.html">21. Case Study: Detecting Fake News</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-21"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="fake_news_question.html">21.1. Question and Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="fake_news_data.html">21.2. Obtaining and Wrangling the Data</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">21.3. Exploring the Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="fake_news_modeling.html">21.4. Modeling</a></li>
<li class="toctree-l2"><a class="reference internal" href="fake_news_summary.html">21.5. Summary</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Appendices</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../a01/prob_review.html">Probability Review</a></li>
<li class="toctree-l1"><a class="reference internal" href="../a02/vector_space_review.html">Vector Space Review</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../a04/ref_intro.html">Reference Tables</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-22"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../a04/ref_pandas.html">pandas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../a04/ref_seaborn.html">Seaborn</a></li>
<li class="toctree-l2"><a class="reference internal" href="../a04/ref_matplotlib.html">matplotlib</a></li>
<li class="toctree-l2"><a class="reference internal" href="../a04/ref_sklearn.html">scikit-learn</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../a11/contributors.html">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references.html">References</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://datahub.berkeley.edu/hub/user-redirect/git-pull?repo=https%3A//github.com/ds-100/textbook&urlpath=tree/textbook/content/ch/21/fake_news_exploring.ipynb&branch=master" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onJupyterHub"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../../_static/images/logo_jupyterhub.svg">
  </span>
<span class="btn__text-container">JupyterHub</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/ch/21/fake_news_exploring.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Exploring the Data</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exploring-the-publishers">21.3.1. Exploring the Publishers</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exploring-publication-date">21.3.2. Exploring Publication Date</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exploring-words-in-articles">21.3.3. Exploring Words in Articles</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="exploring-the-data">
<span id="sec-fake-news-exploring"></span><h1><span class="section-number">21.3. </span>Exploring the Data<a class="headerlink" href="#exploring-the-data" title="Permalink to this heading">#</a></h1>
<p>The dataset of news articles we’re exploring is just one part of the larger FakeNewsNet dataset. As such, the original paper doesn’t provide detailed information about our subset of data.
So, to better understand the data, we must explore it ourselves.</p>
<p>Before starting exploratory data analysis, we apply our standard practice of splitting the data into a training and test set. We perform EDA using only the training set:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>

<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;timestamp&#39;</span><span class="p">,</span> <span class="s1">&#39;baseurl&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">]],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">],</span>
    <span class="n">test_size</span><span class="o">=</span><span class="mf">0.25</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">X_train</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>timestamp</th>
      <th>baseurl</th>
      <th>content</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>164</th>
      <td>2019-01-04 19:25:46</td>
      <td>worldnewsdailyreport.com</td>
      <td>Chinese lunar rover finds no evidence of Ameri...</td>
    </tr>
    <tr>
      <th>28</th>
      <td>2016-01-12 21:02:28</td>
      <td>occupydemocrats.com</td>
      <td>Virginia Republican Wants Schools To Check Chi...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Let’s count the number of real and fake articles in the training set:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">y_train</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>real    320
fake    264
Name: label, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>Our training set has 584 articles, and there are about 60 more articles labeled as <code class="docutils literal notranslate"><span class="pre">real</span></code> compared to <code class="docutils literal notranslate"><span class="pre">fake</span></code>. Next, we check for missing values in the three fields:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">X_train</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Int64Index: 584 entries, 164 to 102
Data columns (total 3 columns):
 #   Column     Non-Null Count  Dtype         
---  ------     --------------  -----         
 0   timestamp  306 non-null    datetime64[ns]
 1   baseurl    584 non-null    object        
 2   content    584 non-null    object        
dtypes: datetime64[ns](1), object(2)
memory usage: 18.2+ KB
</pre></div>
</div>
</div>
</div>
<p>Nearly half of the timestamps are null. This feature will limit the dataset if we use it in the analysis. Next, let’s take a closer look at the <code class="docutils literal notranslate"><span class="pre">baseurl</span></code>, which represents the website that published the original article.</p>
<section id="exploring-the-publishers">
<h2><span class="section-number">21.3.1. </span>Exploring the Publishers<a class="headerlink" href="#exploring-the-publishers" title="Permalink to this heading">#</a></h2>
<p>To understand the <code class="docutils literal notranslate"><span class="pre">baseurl</span></code> column, we start by counting the number of articles from each website:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">X_train</span><span class="p">[</span><span class="s1">&#39;baseurl&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>whitehouse.gov          21
abcnews.go.com          20
nytimes.com             17
                        ..
states-tv.com            1
thebreakingdawn.site     1
ajeteys.com              1
Name: baseurl, Length: 337, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>Our training set has 584 rows, and we have found that there are 337 unique publishing websites. This means that the dataset includes many publications with only a few articles. A histogram of the number of articles published by each website confirms this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">px</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">X_train</span><span class="p">[</span><span class="s1">&#39;baseurl&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(),</span> <span class="n">width</span><span class="o">=</span><span class="mi">450</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">250</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/29a94b16a8ea39b674af5afd2182a89ad4598013af5e136d8ae9232b7bc6bd08.svg" src="../../_images/29a94b16a8ea39b674af5afd2182a89ad4598013af5e136d8ae9232b7bc6bd08.svg" /></div>
</div>
<p>This histogram shows that the vast majority (261 out of 337) of websites have only one article in the training set, and only a few websites have more than 5 articles in the training set.
Nonetheless, it can be informative to identify the websites that published the most fake or real articles. First, we find with the websites that published the most fake articles:</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">top_fake_publishers</span> <span class="o">=</span> <span class="p">(</span><span class="n">X_train</span>
 <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">y_train</span><span class="p">)</span>
 <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;label == &quot;fake&quot;&#39;</span><span class="p">)</span>
 <span class="p">[</span><span class="s1">&#39;baseurl&#39;</span><span class="p">]</span>
 <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
 <span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
 <span class="o">.</span><span class="n">sort_values</span><span class="p">()</span>
<span class="p">)</span>
<span class="n">px</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">top_fake_publishers</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">550</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">250</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../../_images/f5595360f03bcb39d5bf87c6260e0ba08ba474c22a534a36bcc83c1c37a58ddc.svg" src="../../_images/f5595360f03bcb39d5bf87c6260e0ba08ba474c22a534a36bcc83c1c37a58ddc.svg" /></div>
</div>
<p>Next, we list the websites that published the greatest number of real articles:</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">top_real_publishers</span> <span class="o">=</span> <span class="p">(</span><span class="n">X_train</span>
 <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">y_train</span><span class="p">)</span>
 <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;label == &quot;real&quot;&#39;</span><span class="p">)</span>
 <span class="p">[</span><span class="s1">&#39;baseurl&#39;</span><span class="p">]</span>
 <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
 <span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span>
 <span class="o">.</span><span class="n">sort_values</span><span class="p">()</span>
<span class="p">)</span>
<span class="n">px</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">top_real_publishers</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">550</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">250</span><span class="p">)</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../../_images/29344dc5ca5cc8d091310c604be05ddb044d296838d630bd4c488785cfe3dfe2.svg" src="../../_images/29344dc5ca5cc8d091310c604be05ddb044d296838d630bd4c488785cfe3dfe2.svg" /></div>
</div>
<p>Only <code class="docutils literal notranslate"><span class="pre">cnn.com</span></code> appears on both lists. Even without knowing the total number of articles for these sites, we might expect that an article from <code class="docutils literal notranslate"><span class="pre">yournewswire.com</span></code> is more likely to be labeled <code class="docutils literal notranslate"><span class="pre">fake</span></code>, while an article from <code class="docutils literal notranslate"><span class="pre">whitehouse.gov</span></code> is more likely to be labeled <code class="docutils literal notranslate"><span class="pre">real</span></code>. That said, we don’t expect that using the publishing website to predict article truthfulness would work very well – there are simply too few articles from most of the websites in the dataset.</p>
<p>Next, let’s explore the <code class="docutils literal notranslate"><span class="pre">timestamp</span></code> column, which records the publication date of the news articles.</p>
</section>
<section id="exploring-publication-date">
<h2><span class="section-number">21.3.2. </span>Exploring Publication Date<a class="headerlink" href="#exploring-publication-date" title="Permalink to this heading">#</a></h2>
<p>Plotting the timestamps on a histogram shows that most articles were published after 2000, although there seems to be at least one article published before 1940:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">px</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">X_train</span><span class="p">[</span><span class="s1">&#39;timestamp&#39;</span><span class="p">],</span> <span class="n">width</span><span class="o">=</span><span class="mi">550</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">250</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/46d48e36f02b5e650facdc4568e5b785ed86c4631e003dd280504e3f898c097c.svg" src="../../_images/46d48e36f02b5e650facdc4568e5b785ed86c4631e003dd280504e3f898c097c.svg" /></div>
</div>
<p>When we take a closer look at the new articles published prior to 2000, we find that the timestamps don’t match the actual publication date of the article. These date issues are most likely related to the web scraper collecting inaccurate information from the web pages. We can zoom into the region of the histogram after 2000:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">px</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">X_train</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">X_train</span><span class="p">[</span><span class="s1">&#39;timestamp&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="s1">&#39;2000&#39;</span><span class="p">,</span> <span class="s1">&#39;timestamp&#39;</span><span class="p">],</span>
             <span class="n">width</span><span class="o">=</span><span class="mi">550</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">250</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/3f445990b4cb02cee284e687b7f77583ab6072afca1c3cab7015afc125681b3a.svg" src="../../_images/3f445990b4cb02cee284e687b7f77583ab6072afca1c3cab7015afc125681b3a.svg" /></div>
</div>
<p>As expected, most of the articles were published between 2007 (the year Politifact was founded) and 2020 (the year the FakeNewsNet repository was published). But, we also find that the timestamps are concentrated on the years 2016-2018, the year of the controversial 2016 US Presidential Election and the next two years. This insight is a further caution on the limitation of our analysis to carry over to non-election years.</p>
<p>Our main aim is to use the text content for classification. We explore some word frequencies next.</p>
</section>
<section id="exploring-words-in-articles">
<h2><span class="section-number">21.3.3. </span>Exploring Words in Articles<a class="headerlink" href="#exploring-words-in-articles" title="Permalink to this heading">#</a></h2>
<p>We’d like to see whether there’s a relationship between the words used in the articles and whether the article was labeled as <code class="docutils literal notranslate"><span class="pre">fake</span></code>. One simple way to do this is to look at individual words like “military”, then count up how many articles that mentioned “military” were labeled <code class="docutils literal notranslate"><span class="pre">fake</span></code>. For “military” to be useful the articles that mention it should either have a much higher or lower fraction of fake  articles than 45% (the proportion of fake articles in the dataset: 264/584).</p>
<p>We can use our domain knowledge of political topics to pick out a few candidate words to explore:</p>
<p>Then, we define a function that creates a new feature for each word, where the feature contains <code class="docutils literal notranslate"><span class="pre">True</span></code> if the word appeared in the article and <code class="docutils literal notranslate"><span class="pre">False</span></code> if not:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">make_word_features</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">words</span><span class="p">):</span>
    <span class="n">features</span> <span class="o">=</span> <span class="p">{</span> <span class="n">word</span><span class="p">:</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span> <span class="p">}</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">features</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>This is like one-hot encoding for the presence of a word (see <a class="reference internal" href="../15/linear_intro.html#ch-linear"><span class="std std-numref">Chapter 15</span></a>). We can use this function to further wrangle our data and create a new data frame with a feature for each of our chosen words:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_words</span> <span class="o">=</span> <span class="n">make_word_features</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">word_features</span><span class="p">)</span>
<span class="n">df_words</span><span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;label&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_words</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(584, 16)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_words</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>trump</th>
      <th>clinton</th>
      <th>state</th>
      <th>vote</th>
      <th>...</th>
      <th>swamp</th>
      <th>cnn</th>
      <th>the</th>
      <th>label</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>164</th>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>...</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>fake</td>
    </tr>
    <tr>
      <th>28</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>fake</td>
    </tr>
    <tr>
      <th>708</th>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>True</td>
      <td>...</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>real</td>
    </tr>
    <tr>
      <th>193</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>...</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>fake</td>
    </tr>
  </tbody>
</table>
<p>4 rows × 16 columns</p>
</div></div></div>
</div>
<p>Now, we can find the proportion of these articles that were labeled <code class="docutils literal notranslate"><span class="pre">fake</span></code>. We visualize these calculations in the plots below. In the left plot, we mark the proportion of <code class="docutils literal notranslate"><span class="pre">fake</span></code> articles in the entire training set using a dotted line, which helps us understand how informative each word feature is: a highly informative word will have a point that lies far away from the line.</p>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fake_props</span> <span class="o">=</span> <span class="p">(</span><span class="n">make_word_features</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">word_features</span><span class="p">)</span>
 <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="p">(</span><span class="n">y_train</span> <span class="o">==</span> <span class="s1">&#39;fake&#39;</span><span class="p">))</span>
 <span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">id_vars</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">],</span> <span class="n">var_name</span><span class="o">=</span><span class="s1">&#39;word&#39;</span><span class="p">,</span> <span class="n">value_name</span><span class="o">=</span><span class="s1">&#39;appeared&#39;</span><span class="p">)</span>
 <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;appeared == True&#39;</span><span class="p">)</span>
 <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;word&#39;</span><span class="p">)</span>
 <span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span>
 <span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">])</span>
 <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;mean&#39;</span><span class="p">:</span> <span class="s1">&#39;prop_fake&#39;</span><span class="p">})</span>
 <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;prop_fake&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
 <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
 <span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">id_vars</span><span class="o">=</span><span class="s1">&#39;word&#39;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">catplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">fake_props</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;word&#39;</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="s1">&#39;variable&#39;</span><span class="p">,</span>
                <span class="n">s</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">jitter</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="p">[[</span><span class="n">prop_ax</span><span class="p">,</span> <span class="n">_</span><span class="p">]]</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">axes</span>
<span class="n">prop_ax</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="mf">0.45</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
<span class="n">prop_ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">1.05</span><span class="p">))</span>

<span class="n">titles</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Proportion articles marked fake&#39;</span><span class="p">,</span> <span class="s1">&#39;Number of articles with word&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">ax</span><span class="p">,</span> <span class="n">title</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">flat</span><span class="p">,</span> <span class="n">titles</span><span class="p">):</span>

    <span class="c1"># Set a different title for each axes</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlabel</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="c1"># Make the grid horizontal instead of vertical</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">);</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="../../_images/a6283768b74120ca2be33093a841c52179f9553f748427554f5cd676146385ce.svg" src="../../_images/a6283768b74120ca2be33093a841c52179f9553f748427554f5cd676146385ce.svg" /></div>
</div>
<p>This plot reveals a few interesting considerations for modeling.
For example, notice that the word <code class="docutils literal notranslate"><span class="pre">antifa</span></code> is highly predictive—all articles that mention the word <code class="docutils literal notranslate"><span class="pre">antifa</span></code> are labeled <code class="docutils literal notranslate"><span class="pre">fake</span></code>. However, <code class="docutils literal notranslate"><span class="pre">antifa</span></code> only appears in a few articles. On the other hand, the word <code class="docutils literal notranslate"><span class="pre">the</span></code> appears in nearly every article, but is uninformative for distinguishing between <code class="docutils literal notranslate"><span class="pre">real</span></code> and <code class="docutils literal notranslate"><span class="pre">fake</span></code> articles because the proportion of articles with <code class="docutils literal notranslate"><span class="pre">the</span></code> that are fake matches the proportion of fake articles. We might instead do better with a word like <code class="docutils literal notranslate"><span class="pre">vote</span></code>, which is both predictive and appears in many news articles.</p>
<p>This exploratory analysis brought us understanding of the timeframe that our news articles were published, the broad range of publishing websites captured in the data, and candidate words to use for prediction. Next, we fit models for predicting whether articles are fake or real.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./ch/21"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="fake_news_data.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">21.2. </span>Obtaining and Wrangling the Data</p>
      </div>
    </a>
    <a class="right-next"
       href="fake_news_modeling.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">21.4. </span>Modeling</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exploring-the-publishers">21.3.1. Exploring the Publishers</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exploring-publication-date">21.3.2. Exploring Publication Date</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exploring-words-in-articles">21.3.3. Exploring Words in Articles</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Sam Lau, Joey Gonzalez, and Deb Nolan
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <p>
License: CC BY-NC-ND 4.0
</p>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>